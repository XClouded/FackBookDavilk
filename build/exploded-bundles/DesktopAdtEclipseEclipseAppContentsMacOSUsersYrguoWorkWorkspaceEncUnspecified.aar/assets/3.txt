<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ctrip: /Users/jimzhao/Desktop/devs/v50arc/CTRIP_WIRELESS/CTRIP_WIRELESS/Class/UI/CTHomePage/ViewController/CTMyCtripRootViewController.m Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="icon_company.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ctrip
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ctrip dev document</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_c_t_my_ctrip_root_view_controller_8m.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">/Users/jimzhao/Desktop/devs/v50arc/CTRIP_WIRELESS/CTRIP_WIRELESS/Class/UI/CTHomePage/ViewController/CTMyCtripRootViewController.m</div>  </div>
</div>
<div class="contents">
<a href="_c_t_my_ctrip_root_view_controller_8m.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">//  CTMyCtripRootViewController.m</span>
<a name="l00003"></a>00003 <span class="comment">//  CTRIP_WIRELESS</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  Created by yinchao ma on 12-12-28.</span>
<a name="l00006"></a>00006 <span class="comment">//  Copyright (c) 2012年 携程. All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment">//  我的携程页面</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_root_view_controller_8h.html">CTMyCtripRootViewController.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_table_view_8h.html">CTTableView.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_custome_group_table_view_cell_8h.html">CTCustomeGroupTableViewCell.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_cell_8h.html">CTMyCtripCell.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_set_up_view_controller_8h.html">CTSetUpViewController.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_user_info_sender_8h.html">CTUserInfoSender.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_load_sender_8h.html">CTLoadSender.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_sender_result_model_8h.html">CTSenderResultModel.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_not_travel_order_view_controller_8h.html">CTNotTravelOrderViewController.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_comment_hotel_list_view_controller_8h.html">CTCommentHotelListViewController.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_order_list_view_controller_8h.html">CTOrderListViewController.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_fav_hotel_view_controller_8h.html">CTMyCtripFavHotelViewController.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_destination_view_controller_8h.html">CTMyDestinationViewController.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_cash_account_view_controller_8h.html">CTMyCtripCashAccountViewController.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_ticket_account_view_controller_8h.html">CTMyCtripTicketAccountViewController.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_edit_password_view_controller_8h.html">CTMyCtripEditPasswordViewController.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_feed_back_view_controller_8h.html">CTFeedBackViewController.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_more_content_view_controller_8h.html">CTMoreContentViewController.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_low_price_view_controller_8h.html">CTLowPriceViewController.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_passenger_list_widget_8h.html">CTPassengerListWidget.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#import &quot;CTAddressListWidget.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_login_lookup_widget_8h.html">CTLoginLookupWidget.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_login_no_member_widget_8h.html">CTLoginNoMemberWidget.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#import &quot;<a class="code" href="_sqlite_util_8h.html">SqliteUtil.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_data_source_8h.html">CTDataSource.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#import &quot;<a class="code" href="_app_delegate_8h.html">AppDelegate.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#import &quot;<a class="code" href="_ctrip_validate_util_8h.html">CtripValidateUtil.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#import &quot;<a class="code" href="_date_util_8h.html">DateUtil.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_utils_8h.html">CTUtils.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_home_cache_bean_8h.html">CTHomeCacheBean.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_dynamic_view_8h.html">CTDynamicView.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_message_center_8h.html">CTMessageCenter.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_alert_view_8h.html">CTAlertView.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_banner_view_8h.html">CTBannerView.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_home_page_view_controller_8h.html">CTHomePageViewController.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_groupon_order_list_sender_8h.html">CTHotelGrouponOrderListSender.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_search_view_controller_8h.html">CTFlightSearchViewController.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_locution_view_controller_8h.html">CTLocutionViewController.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_train_inquire_view_controller_8h.html">CTTrainInquireViewController.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_inland_and_international_flight_search_view_controller_8h.html">CTInlandAndInternationalFlightSearchViewController.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_fre_question_view_controller_8h.html">CTFreQuestionViewController.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_order_dynamic_view_8h.html">CTFlightOrderDynamicView.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_new_hotel_detail_view_controller_8h.html">CTNewHotelDetailViewController.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_train_list_view_controller_8h.html">CTTrainListViewController.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_board_detail_view_controller_8h.html">CTFlightBoardDetailViewController.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_international_flights_go_list_view_controller_8h.html">CTInternationalFlightsGoListViewController.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_inland_flight_list_view_controller_8h.html">CTInlandFlightListViewController.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_int_flight_list_cache_bean_8h.html">CTIntFlightListCacheBean.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_inland_flight_list_go_view_controller_8h.html">CTInlandFlightListGoViewController.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_class_category_8h.html">CTClassCategory.h</a>&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#import &quot;JSONKit.h&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_home_sender_8h.html">CTHomeSender.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_user_info_sender_8h.html">CTUserInfoSender.h</a>&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_board_cache_bean_8h.html">CTFlightBoardCacheBean.h</a>&quot;</span>
<a name="l00063"></a>00063 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_order_dynamic_view_8h.html">CTFlightOrderDynamicView.h</a>&quot;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_entrance_ticket_list_view_controller_8h.html">CTEntranceTicketListViewController.h</a>&quot;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_new_list_view_controller_8h.html">CTHotelNewListViewController.h</a>&quot;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_inquire_main_cache_bean_8h.html">CTHotelInquireMainCacheBean.h</a>&quot;</span>
<a name="l00067"></a>00067 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_view_controller_8h.html">CTHotelViewController.h</a>&quot;</span>
<a name="l00068"></a>00068 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_group_order_list_view_controller_8h.html">CTHotelGroupOrderListViewController.h</a>&quot;</span>
<a name="l00069"></a>00069 <span class="comment">//所有新的订单列表页的修改</span>
<a name="l00070"></a>00070 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_order_list_sender_8h.html">CTFlightOrderListSender.h</a>&quot;</span>   <span class="comment">//国内机票</span>
<a name="l00071"></a>00071 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_intl_flight_order_list_sender_8h.html">CTIntlFlightOrderListSender.h</a>&quot;</span> <span class="comment">//国际机票</span>
<a name="l00072"></a>00072 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_order_list_sender_8h.html">CTHotelOrderListSender.h</a>&quot;</span><span class="comment">//酒店订单</span>
<a name="l00073"></a>00073 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_train_order_list_sender_8h.html">CTTrainOrderListSender.h</a>&quot;</span><span class="comment">//高铁订单</span>
<a name="l00074"></a>00074 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_vacation_ticket_order_list_sender_8h.html">CTVacationTicketOrderListSender.h</a>&quot;</span> <span class="comment">//门票订单</span>
<a name="l00075"></a>00075 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_vacation_order_list_sender_8h.html">CTVacationOrderListSender.h</a>&quot;</span>
<a name="l00076"></a>00076 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_non_travel_order_list_sender_8h.html">CTNonTravelOrderListSender.h</a>&quot;</span><span class="comment">//未出行订单</span>
<a name="l00077"></a>00077 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_hotel_comment_widget_sender_8h.html">CTHotelCommentWidgetSender.h</a>&quot;</span><span class="comment">//未点评酒店列表</span>
<a name="l00078"></a>00078 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_ctrip_use_car_order_list_view_controller_8h.html">CTMyCtripUseCarOrderListViewController.h</a>&quot;</span>
<a name="l00079"></a>00079 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_car_product_order_list_sender_8h.html">CTCarProductOrderListSender.h</a>&quot;</span>
<a name="l00080"></a>00080 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_order_dynamic_view_8h.html">CTFlightOrderDynamicView.h</a>&quot;</span>
<a name="l00081"></a>00081 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_flight_dynamic_notification_entrance_button_8h.html">CTFlightDynamicNotificationEntranceButton.h</a>&quot;</span>
<a name="l00082"></a>00082 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_freewalker_order_list_view_controller_8h.html">CTFreewalkerOrderListViewController.h</a>&quot;</span>
<a name="l00083"></a>00083 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_vacation_self_guided_tour_order_list_sender_8h.html">CTVacationSelfGuidedTourOrderListSender.h</a>&quot;</span>
<a name="l00084"></a>00084 <span class="preprocessor">#import &quot;<a class="code" href="_c_t_my_dest_fav_view_controller_8h.html">CTMyDestFavViewController.h</a>&quot;</span>
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="interface_c_t_my_ctrip_root_view_controller_07_08.html">00086</a> <span class="keyword">@interface </span><a class="code" href="interface_c_t_my_ctrip_root_view_controller.html">CTMyCtripRootViewController</a> ()
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="keyword">@end</span>
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 <span class="keyword">@implementation </span><a class="code" href="interface_c_t_my_ctrip_root_view_controller.html">CTMyCtripRootViewController</a>
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab989cb45c930de1dbb4e4950e36b42df">tableView</a>;
<a name="l00093"></a>00093 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a1c048dbb74e8c4e2f2d42749d9fbb5a1">zeroSectionArray</a>;
<a name="l00094"></a>00094 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a01cb8c078331023c1d35c0fffe0b1376">firstSectionArray</a>;
<a name="l00095"></a>00095 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#af1b62491a686a789592924caee5c4629">secondSectionArray</a>;
<a name="l00096"></a>00096 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a917b2aedb04398f124d33de035fb89d6">thirdSectionArray</a>;
<a name="l00097"></a>00097 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a7f70b8102bc22756d9237314149fd8ac">fourthSectionArray</a>;
<a name="l00098"></a>00098 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a09733fb538a51a39e208a9d6b6eefd68">fourthSubSectionArray</a>;
<a name="l00099"></a>00099 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aaf18752be2a39a105e667b0e696372ce">fifthSectionArray</a>;
<a name="l00100"></a>00100 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#abf10c7585599d46a82593a4a41c4bc7f">midIndexPath</a>;
<a name="l00101"></a>00101 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a8a5bfefaff773b2ce065ff891cad3839">zeroSectionImageArray</a>;
<a name="l00102"></a>00102 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aed7efc7bd917b53cbe6f54e997a9e04b">firstSectionImageArray</a>;
<a name="l00103"></a>00103 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab9c7bb55c47c75300f56ec650760ab8e">secondSectionImageArray</a>;
<a name="l00104"></a>00104 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ade964f7b1e86d827d361db996ba34ce7">thirdSectionImageArray</a>;
<a name="l00105"></a>00105 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a0ebe994005cd869def816d9c4f6ad4f7">fourthSectionImageArray</a>;
<a name="l00106"></a>00106 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#af7444b2777e90b4dfe8fb23d142320a8">fifthSectionImageArray</a>;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>;
<a name="l00109"></a>00109 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ae3ae7716e98e98f2184aa1a2148e404a">hiddenUnionPay</a>;
<a name="l00110"></a>00110 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a>;
<a name="l00111"></a>00111 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a6cb4e9ced06dd91a01091031208bb1b7">requestStr</a>;
<a name="l00112"></a>00112 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a6511a289e158ecbb853d0b23df2e2af6">bannerViewPlay</a>;
<a name="l00113"></a>00113 <span class="keyword">@synthesize</span> <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5b77761531b3a3f5426e9d39f4dcc701">dyView</a>;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="preprocessor">#pragma mark --------- 退出清空------------</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>-(void)dealloc
<a name="l00117"></a>00117 {
<a name="l00118"></a>00118     
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     
<a name="l00121"></a>00121     
<a name="l00122"></a>00122     [[NSNotificationCenter defaultCenter] removeObserver:self];
<a name="l00123"></a>00123 }
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 - (id)initWithNibName:(<a class="code" href="class_n_s_string.html">NSString</a> *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127     <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
<a name="l00128"></a>00128     <span class="keywordflow">if</span> (<span class="keyword">self</span>)
<a name="l00129"></a>00129     {
<a name="l00130"></a>00130         [<span class="keyword">self</span> initData];
<a name="l00131"></a>00131     }
<a name="l00132"></a>00132     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 - (void)viewDidLoad
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137     [<span class="keyword">super</span> viewDidLoad];
<a name="l00138"></a>00138     [<span class="keyword">self</span> initView];
<a name="l00139"></a>00139     
<a name="l00140"></a>00140     <span class="comment">//未出行订单数量统计服务</span>
<a name="l00141"></a>00141     <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *orderAmountService=[[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#a2f2261dfe4e1861b9729e3ea05602245">sendGetUserOrderAmount</a>];
<a name="l00142"></a>00142     [<a class="code" href="interface_c_t_sender_manager.html">CTSenderManager</a> <a class="code" href="interface_c_t_sender_manager.html#a1506051c3f64df2323c23a9130336075">removeBlockQueueByToken</a>:orderAmountService.token];
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 - (void)viewWillAppear:(BOOL)animated
<a name="l00147"></a>00147 {
<a name="l00148"></a>00148     [<span class="keyword">super</span> viewWillAppear:animated];
<a name="l00149"></a>00149     <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aadca6bfcd8f55b9925c3a31f7ae54177">moreNum</a> = 0;
<a name="l00150"></a>00150     dispatch_queue_t network_queue ;
<a name="l00151"></a>00151     network_queue = dispatch_queue_create(<span class="stringliteral">&quot;network_queue&quot;</span>, nil) ;
<a name="l00152"></a>00152     
<a name="l00153"></a>00153     dispatch_async(network_queue, ^{
<a name="l00154"></a>00154         
<a name="l00155"></a>00155         BOOL everSaw = [[<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#ad73f1953446ec015c697e6058adfd00f">getUserSetting</a>:USER_SETTING_IS_NEW_VERSION]boolValue];
<a name="l00156"></a>00156         <span class="keywordflow">if</span> ([<span class="keyword">self</span> isThereNewVersion]&amp;&amp;!everSaw)
<a name="l00157"></a>00157         {
<a name="l00158"></a>00158             <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aadca6bfcd8f55b9925c3a31f7ae54177">moreNum</a> = <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aadca6bfcd8f55b9925c3a31f7ae54177">moreNum</a> +1;
<a name="l00159"></a>00159         }
<a name="l00160"></a>00160         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aadca6bfcd8f55b9925c3a31f7ae54177">moreNum</a> = <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aadca6bfcd8f55b9925c3a31f7ae54177">moreNum</a> + [[<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> queryNoReadNoticeItemModelListWithType:1] count];
<a name="l00161"></a>00161         dispatch_async(dispatch_get_main_queue(), ^{
<a name="l00162"></a>00162             [<span class="keyword">self</span>.tableView reloadData];
<a name="l00163"></a>00163         }) ;
<a name="l00164"></a>00164         
<a name="l00165"></a>00165     }) ;
<a name="l00166"></a>00166     dispatch_release(network_queue) ;
<a name="l00167"></a>00167     [<span class="keyword">self</span> refreshTable];
<a name="l00168"></a>00168 }
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 <span class="preprocessor">#pragma mark ---------初始化数据-------------</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span>- (void)initData
<a name="l00172"></a>00172 {
<a name="l00173"></a>00173   
<a name="l00174"></a>00174     <span class="keyword">self</span>.zeroSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;未出行订单&quot;,@&quot;点评酒店&quot;, nil];
<a name="l00175"></a>00175     <span class="comment">//火车票普通车次4.3不上线</span>
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="keyword">self</span>.firstSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;酒店订单&quot;,@&quot;团购酒店订单&quot;,@&quot;国内机票订单&quot;,@&quot;国际机票订单&quot;,@&quot;火车票订单&quot;,@&quot;景点门票订单&quot;,@&quot;自由行套餐订单&quot;,@&quot;用车订单&quot;, nil];
<a name="l00178"></a>00178 <span class="comment">//    self.firstSectionArray = [NSMutableArray arrayWithObjects:@&quot;酒店订单&quot;,@&quot;国内机票订单&quot;,@&quot;国际机票订单&quot;,@&quot;高铁动车订单&quot;,@&quot;景点门票订单&quot;, nil];</span>
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     <span class="keyword">self</span>.secondSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;我收藏的酒店&quot;,@&quot;目的地收藏&quot;,@&quot;我的社区&quot;,@&quot;常用旅客&quot;,@&quot;常用地址&quot;, nil];
<a name="l00182"></a>00182     <span class="keyword">self</span>.thirdSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;现金账户&quot;,@&quot;礼品卡账户&quot;, nil];
<a name="l00183"></a>00183     <span class="keyword">self</span>.fourthSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;低价订阅设置&quot;,@&quot;一键下单设置&quot;, nil];
<a name="l00184"></a>00184     <span class="keyword">self</span>.fourthSubSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;订阅航班信息，获得低价提醒&quot;,@&quot;设置后免填写极速预订机票&quot;, nil];
<a name="l00185"></a>00185     <span class="keyword">self</span>.fifthSectionArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;修改密码&quot;,@&quot;意见反馈&quot;,@&quot;更多&quot;, nil];
<a name="l00186"></a>00186     
<a name="l00187"></a>00187     <span class="comment">//小图标的数组</span>
<a name="l00188"></a>00188     <span class="keyword">self</span>.zeroSectionImageArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;icon_orders_available.png&quot;,@&quot;icon_comment.png&quot;, nil];
<a name="l00189"></a>00189     <span class="keyword">self</span>.firstSectionImageArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;icon_orders_hotel.png&quot;,@&quot;ic_tuan.png&quot;,@&quot;icon_orders_domestic.png&quot;,@&quot;icon_orders_international.png&quot;,@&quot;icon_orders_train.png&quot;,@&quot;icon_ticket.png&quot;,@&quot;icon_travellist.png&quot;,@&quot;icon_carlist.png&quot;, nil];
<a name="l00190"></a>00190     <span class="keyword">self</span>.secondSectionImageArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;icon_favorite.png&quot;,@&quot;icon_favorite_destination.png&quot;,@&quot;icon_community.png&quot;,@&quot;icon_passenger.png&quot;,@&quot;icon_address.png&quot;, nil];
<a name="l00191"></a>00191     <span class="keyword">self</span>.thirdSectionImageArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;icon_account.png&quot;,@&quot;icon_zipcode.png&quot;, nil];
<a name="l00192"></a>00192     <span class="keyword">self</span>.fourthSectionImageArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;icon_attention.png&quot;, nil];
<a name="l00193"></a>00193     <span class="keyword">self</span>.fifthSectionImageArray = [<a class="code" href="class_n_s_mutable_array.html">NSMutableArray</a> arrayWithObjects:@&quot;icon_change.png&quot;,@&quot;icon_orders_opinion.png&quot;,@&quot;icon_orders_more.png&quot;, nil];
<a name="l00194"></a>00194     
<a name="l00195"></a>00195     
<a name="l00196"></a>00196     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(refreshTable) name:MSG_CTrip_Get_HomeVar_Success object:nil];
<a name="l00197"></a>00197     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(refreshTable) name:MSG_CTrip_Get_Notice_Success object:nil];
<a name="l00198"></a>00198     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(refreshTable) name:MSG_CTrip_Get_OrderTotalAmount_Success object:nil];
<a name="l00199"></a>00199     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(refreshTable) name:MSG_CTrip_Login_Success object:nil];
<a name="l00200"></a>00200     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(refreshTable) name:MSG_CTrip_Auto_Login_Finish object:nil];
<a name="l00201"></a>00201     <span class="keywordflow">if</span> (<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a> &amp;&amp;!<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a177f0580ebec4c0eeb9875e7b16aab2b">isMember_</a>)
<a name="l00202"></a>00202     {
<a name="l00203"></a>00203         <a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a> = NO;
<a name="l00204"></a>00204     }
<a name="l00205"></a>00205 }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 - (void)refreshTable
<a name="l00208"></a>00208 {
<a name="l00209"></a>00209     [<span class="keyword">self</span>.tableView reloadData];
<a name="l00210"></a>00210 }
<a name="l00211"></a>00211 <span class="preprocessor">#pragma mark ---------初始化试图----------</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>- (void)initView
<a name="l00213"></a>00213 {
<a name="l00214"></a>00214     <span class="keyword">self</span>.title = <span class="stringliteral">@&quot;我的携程&quot;</span>;
<a name="l00215"></a>00215     [<span class="keyword">self</span>.navigationBar addRightBarButtonItemWithTitle:@&quot;设置&quot; target:self action:@selector(pressSettingBtn:)];
<a name="l00216"></a>00216     <span class="keyword">self</span>.tableView.backgroundColor = [<a class="code" href="interface_text_util.html">TextUtil</a> <a class="code" href="interface_text_util.html#ae0ff291241d63ee4ccef25ee9d9aa19d">getColor</a>:@&quot;#f5f5f5&quot;];
<a name="l00217"></a>00217     <span class="keyword">self</span>.tableView.footerView.backgroundColor = [<a class="code" href="interface_text_util.html">TextUtil</a> <a class="code" href="interface_text_util.html#ae0ff291241d63ee4ccef25ee9d9aa19d">getColor</a>:@&quot;#f5f5f5&quot;];
<a name="l00218"></a>00218     <span class="keyword">self</span>.tableView.headerView.backgroundColor = [<a class="code" href="interface_text_util.html">TextUtil</a> <a class="code" href="interface_text_util.html#ae0ff291241d63ee4ccef25ee9d9aa19d">getColor</a>:@&quot;#f5f5f5&quot;];
<a name="l00219"></a>00219     <span class="keyword">self</span>.dyView = [[[NSBundle mainBundle] loadNibNamed:@&quot;CTDynamicView&quot; owner:self options:nil] objectAtIndex:0];
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     <span class="keyword">self</span>.bannerViewPlay.alpha = 0.0;
<a name="l00223"></a>00223     [<span class="keyword">self</span>.bannerViewPlay loadRequestWithUrlStr:__advHomeURL];
<a name="l00224"></a>00224     
<a name="l00225"></a>00225     <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a> = nil;
<a name="l00226"></a>00226     <span class="keywordflow">if</span> (!<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>) {
<a name="l00227"></a>00227         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a> = [[UIWebView alloc] initWithFrame:CGRectMake(0, 0, [UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height-20)];
<a name="l00228"></a>00228         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.center = CGPointMake(<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.center.x, <span class="keyword">self</span>.unionPayWebView.center.y + [UIScreen mainScreen].bounds.size.height);
<a name="l00229"></a>00229         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.delegate = <span class="keyword">self</span>;
<a name="l00230"></a>00230         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.tag = 1011;
<a name="l00231"></a>00231         UIImage* image = [UIImage imageNamed:@&quot;btn_title_back.png&quot;];
<a name="l00232"></a>00232         UIImage* pressedImage = [UIImage imageNamed:@&quot;btn_title_back_pressed.png&quot;];
<a name="l00233"></a>00233         <span class="keyword">self</span>.hiddenUnionPay = [UIButton buttonWithType:UIButtonTypeCustom];
<a name="l00234"></a>00234         [hiddenUnionPay setImage:image forState:UIControlStateNormal];
<a name="l00235"></a>00235         [hiddenUnionPay setImage:pressedImage forState:UIControlStateHighlighted];
<a name="l00236"></a>00236         [hiddenUnionPay setFrame:CGRectMake(0, [UIScreen mainScreen].bounds.size.height, image.size.width, image.size.height)];
<a name="l00237"></a>00237         [hiddenUnionPay addTarget:self action:@selector(hiddenPayWebView) forControlEvents:UIControlEventTouchUpInside];
<a name="l00238"></a>00238         [<span class="keyword">self</span>.view addSubview:unionPayWebView];
<a name="l00239"></a>00239         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a> = NO;
<a name="l00240"></a>00240         [hiddenUnionPay setFrame:CGRectMake(0, 0, image.size.width, image.size.height)];
<a name="l00241"></a>00241         
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <span class="preprocessor">#pragma mark ------- bar上右上角的按钮</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span>- (void)pressSettingBtn:(<span class="keywordtype">id</span>)sender
<a name="l00247"></a>00247 {
<a name="l00248"></a>00248     <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;进入设置页面&quot;</span>);
<a name="l00249"></a>00249     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication]delegate];
<a name="l00250"></a>00250     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripRootViewController&quot; listener:@&quot;settingPageListener&quot;];
<a name="l00251"></a>00251     <a class="code" href="interface_c_t_set_up_view_controller.html">CTSetUpViewController</a> *setupVc = [[<a class="code" href="interface_c_t_set_up_view_controller.html">CTSetUpViewController</a> alloc] initWithNibName:@&quot;CTSetUpViewController&quot; bundle:nil];
<a name="l00252"></a>00252     [<span class="keyword">self</span>.ctripNavigationController pushCtripViewController:setupVc animated:YES];
<a name="l00253"></a>00253 }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="preprocessor">#pragma mark --------tabeView Delegate---------</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span>
<a name="l00257"></a>00257 - (<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)numberOfSectionsInTableView:(UITableView *)tableView
<a name="l00258"></a>00258 {
<a name="l00259"></a>00259     <span class="keywordflow">return</span> 6;
<a name="l00260"></a>00260 }
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 - (<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab989cb45c930de1dbb4e4950e36b42df">tableView</a>:(UITableView *)tableView numberOfRowsInSection:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)section
<a name="l00263"></a>00263 {
<a name="l00264"></a>00264     <span class="keywordflow">switch</span> (section)
<a name="l00265"></a>00265     {
<a name="l00266"></a>00266         <span class="keywordflow">case</span> 0:
<a name="l00267"></a>00267             <span class="keywordflow">return</span> [zeroSectionArray count];
<a name="l00268"></a>00268             <span class="keywordflow">break</span>;
<a name="l00269"></a>00269         <span class="keywordflow">case</span> 1:
<a name="l00270"></a>00270             <span class="keywordflow">return</span> [firstSectionArray count];
<a name="l00271"></a>00271             <span class="keywordflow">break</span>;
<a name="l00272"></a>00272         <span class="keywordflow">case</span> 2:
<a name="l00273"></a>00273             <span class="keywordflow">return</span> [secondSectionArray count];
<a name="l00274"></a>00274             <span class="keywordflow">break</span>;
<a name="l00275"></a>00275         <span class="keywordflow">case</span> 3:
<a name="l00276"></a>00276             <span class="keywordflow">return</span> [thirdSectionArray count];
<a name="l00277"></a>00277             <span class="keywordflow">break</span>;
<a name="l00278"></a>00278         <span class="keywordflow">case</span> 4:
<a name="l00279"></a>00279 <span class="comment">//            return [fourthSubSectionArray count];</span>
<a name="l00280"></a>00280             <span class="keywordflow">return</span> 1;
<a name="l00281"></a>00281             <span class="keywordflow">break</span>;
<a name="l00282"></a>00282         <span class="keywordflow">case</span> 5:
<a name="l00283"></a>00283             <span class="keywordflow">return</span> [fifthSectionArray count];
<a name="l00284"></a>00284             <span class="keywordflow">break</span>;
<a name="l00285"></a>00285         <span class="keywordflow">default</span>:
<a name="l00286"></a>00286             <span class="keywordflow">break</span>;
<a name="l00287"></a>00287     }
<a name="l00288"></a>00288     <span class="keywordflow">return</span> 0;
<a name="l00289"></a>00289 }
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 - (UITableViewCell *)<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab989cb45c930de1dbb4e4950e36b42df">tableView</a>:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
<a name="l00292"></a>00292 {
<a name="l00293"></a>00293     <a class="code" href="interface_c_t_my_ctrip_cell.html">CTMyCtripCell</a> *  cell = (<a class="code" href="interface_c_t_my_ctrip_cell.html">CTMyCtripCell</a> *)[<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab989cb45c930de1dbb4e4950e36b42df">tableView</a> dequeueReusableCellWithIdentifier:<span class="stringliteral">@&quot;BigCell&quot;</span>];
<a name="l00294"></a>00294     <span class="keywordflow">if</span> (indexPath.section !=4)
<a name="l00295"></a>00295     {
<a name="l00296"></a>00296         cell= (<a class="code" href="interface_c_t_my_ctrip_cell.html">CTMyCtripCell</a> *)[<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab989cb45c930de1dbb4e4950e36b42df">tableView</a> dequeueReusableCellWithIdentifier:<span class="stringliteral">@&quot;Cell&quot;</span>];
<a name="l00297"></a>00297     }
<a name="l00298"></a>00298     
<a name="l00299"></a>00299     <span class="keywordflow">if</span> (cell ==nil&amp;&amp;indexPath.<a class="code" href="interface_c_t_custome_group_table_view_cell.html#a10934647b46033ba78efbdfc1d862f97">section</a> !=4 )
<a name="l00300"></a>00300     {
<a name="l00301"></a>00301         cell =  [[[NSBundle mainBundle] loadNibNamed:@&quot;CTMyCtripCell&quot; owner:self options:nil] objectAtIndex:0];
<a name="l00302"></a>00302         
<a name="l00303"></a>00303         <span class="comment">//未出行订单的样式</span>
<a name="l00304"></a>00304         UIButton *btn = [UIButton buttonWithType:UIButtonTypeCustom];
<a name="l00305"></a>00305         btn.userInteractionEnabled = NO;
<a name="l00306"></a>00306         btn.titleLabel.font = [UIFont systemFontOfSize:15.0f];
<a name="l00307"></a>00307         [btn setTitleColor:[<a class="code" href="interface_text_util.html">TextUtil</a> <a class="code" href="interface_text_util.html#ae0ff291241d63ee4ccef25ee9d9aa19d">getColor</a>:@&quot;#646f7a&quot;] forState:UIControlStateNormal];
<a name="l00308"></a>00308         btn.tag = 2000;
<a name="l00309"></a>00309         btn.frame = CGRectMake(260, 15, 17, 14);
<a name="l00310"></a>00310         [cell.contentView addSubview:btn];
<a name="l00311"></a>00311         btn.hidden = YES;
<a name="l00312"></a>00312         
<a name="l00313"></a>00313         <span class="comment">//推送消息的Button样式</span>
<a name="l00314"></a>00314         UIButton *btnS = [UIButton buttonWithType:UIButtonTypeCustom];
<a name="l00315"></a>00315         btnS.userInteractionEnabled = NO;
<a name="l00316"></a>00316         [btnS setBackgroundImage:[UIImage imageNamed:@&quot;icon__myctrip_tip1.png&quot;]forState:UIControlStateNormal];
<a name="l00317"></a>00317         btnS.tag = 2001;
<a name="l00318"></a>00318         btnS.titleLabel.font = [UIFont systemFontOfSize:12.0f];
<a name="l00319"></a>00319         [btnS setTitle:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%d&quot;,__dataSource.unEvaluatedHotelNum_] forState:UIControlStateNormal];
<a name="l00320"></a>00320         btnS.frame = CGRectMake(255, 15, 17, 14);
<a name="l00321"></a>00321         btnS.titleLabel.textColor = [UIColor whiteColor];
<a name="l00322"></a>00322         [cell.contentView addSubview:btnS];
<a name="l00323"></a>00323         btnS.hidden = YES;
<a name="l00324"></a>00324         
<a name="l00325"></a>00325     }
<a name="l00326"></a>00326     <span class="keywordflow">if</span> (cell ==nil &amp;&amp; indexPath.<a class="code" href="interface_c_t_custome_group_table_view_cell.html#a10934647b46033ba78efbdfc1d862f97">section</a> ==4)
<a name="l00327"></a>00327     {
<a name="l00328"></a>00328         cell = [[[NSBundle mainBundle] loadNibNamed:@&quot;CTMyCtripCell&quot; owner:self options:nil] objectAtIndex:1];
<a name="l00329"></a>00329         
<a name="l00330"></a>00330         UIButton *btn = [UIButton buttonWithType:UIButtonTypeCustom];
<a name="l00331"></a>00331         btn.userInteractionEnabled = NO;
<a name="l00332"></a>00332         [btn setBackgroundImage:[UIImage imageNamed:@&quot;icon__myctrip_tip1.png&quot;] forState:UIControlStateNormal];
<a name="l00333"></a>00333         btn.titleLabel.font = [UIFont systemFontOfSize:12.0f];
<a name="l00334"></a>00334         btn.tag = 2003;
<a name="l00335"></a>00335         btn.frame = CGRectMake(255, 25, 17, 14);
<a name="l00336"></a>00336         btn.titleLabel.textColor = [UIColor whiteColor];
<a name="l00337"></a>00337         [cell.contentView addSubview:btn];
<a name="l00338"></a>00338     }
<a name="l00339"></a>00339     
<a name="l00340"></a>00340     
<a name="l00341"></a>00341     <span class="keywordflow">switch</span> (indexPath.section)
<a name="l00342"></a>00342     {
<a name="l00343"></a>00343         <span class="keywordflow">case</span> 0:
<a name="l00344"></a>00344         {
<a name="l00345"></a>00345             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a1ee624daec1cd4b35c5463a58aac6959">eMainTitleLabel</a>.text = [zeroSectionArray objectAtIndex:indexPath.row];
<a name="l00346"></a>00346             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a428f7b8c9831e4c2cbf20f04997fc70d">leftImageView</a>.image = [UIImage imageNamed:[zeroSectionImageArray objectAtIndex:indexPath.row] ];
<a name="l00347"></a>00347             <a class="code" href="interface_c_t_home_cache_bean.html">CTHomeCacheBean</a> *homeCache = (<a class="code" href="interface_c_t_home_cache_bean.html">CTHomeCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a6f23024006448507a5bf4d7b575c3db8">FLAG_Home_CTHomeCacheBean</a>];
<a name="l00348"></a>00348             <span class="comment">//[homeCache refreshUserOrderData];</span>
<a name="l00349"></a>00349             <span class="keywordflow">if</span> (indexPath.row ==0 )
<a name="l00350"></a>00350             {
<a name="l00351"></a>00351                 <span class="comment">//未出行样式</span>
<a name="l00352"></a>00352                 UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00353"></a>00353                 <span class="comment">//消息技数样式</span>
<a name="l00354"></a>00354                 UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00355"></a>00355                 btn.hidden = YES;
<a name="l00356"></a>00356                 btnS.hidden = YES;
<a name="l00357"></a>00357                 <span class="keywordflow">if</span> ( <a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#afb4ab2b763a8f8708d85acff97e46a4e">noTravelOrderTotalNum_</a> !=0)
<a name="l00358"></a>00358                 {
<a name="l00359"></a>00359                     [btn setTitle:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%d&quot;,__dataSource.noTravelOrderTotalNum_] forState:UIControlStateNormal];
<a name="l00360"></a>00360                     btn.hidden = NO;
<a name="l00361"></a>00361                 }
<a name="l00362"></a>00362                 
<a name="l00363"></a>00363             }
<a name="l00364"></a>00364             
<a name="l00365"></a>00365             <span class="keywordflow">if</span> (indexPath.row ==1)
<a name="l00366"></a>00366             {
<a name="l00367"></a>00367                 <span class="comment">//未出行样式</span>
<a name="l00368"></a>00368                 UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00369"></a>00369                 <span class="comment">//消息技数样式</span>
<a name="l00370"></a>00370                 UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00371"></a>00371                 btn.hidden = YES;
<a name="l00372"></a>00372                 btnS.hidden = YES;
<a name="l00373"></a>00373                 <span class="keywordflow">if</span> (<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#addb5c8daa7199f6e1556b920ce7a8a58">unEvaluatedHotelNum_</a> !=0)
<a name="l00374"></a>00374                 {
<a name="l00375"></a>00375                     [btnS setTitle:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%d&quot;,__dataSource.unEvaluatedHotelNum_] forState:UIControlStateNormal];
<a name="l00376"></a>00376                     btnS.hidden = NO;
<a name="l00377"></a>00377                 }
<a name="l00378"></a>00378             }
<a name="l00379"></a>00379         }
<a name="l00380"></a>00380             
<a name="l00381"></a>00381             <span class="keywordflow">break</span>;
<a name="l00382"></a>00382         <span class="keywordflow">case</span> 1:
<a name="l00383"></a>00383         {
<a name="l00384"></a>00384             
<a name="l00385"></a>00385             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a1ee624daec1cd4b35c5463a58aac6959">eMainTitleLabel</a>.text = [firstSectionArray objectAtIndex:indexPath.row];
<a name="l00386"></a>00386             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a428f7b8c9831e4c2cbf20f04997fc70d">leftImageView</a>.image = [UIImage imageNamed:[firstSectionImageArray objectAtIndex:indexPath.row] ];
<a name="l00387"></a>00387             <span class="comment">//未出行样式</span>
<a name="l00388"></a>00388             UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00389"></a>00389             <span class="comment">//消息技数样式</span>
<a name="l00390"></a>00390             UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00391"></a>00391             btn.hidden = YES;
<a name="l00392"></a>00392             btnS.hidden = YES;
<a name="l00393"></a>00393             
<a name="l00394"></a>00394         }
<a name="l00395"></a>00395             
<a name="l00396"></a>00396             <span class="keywordflow">break</span>;
<a name="l00397"></a>00397         <span class="keywordflow">case</span> 2:
<a name="l00398"></a>00398         {
<a name="l00399"></a>00399             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a1ee624daec1cd4b35c5463a58aac6959">eMainTitleLabel</a>.text = [secondSectionArray objectAtIndex:indexPath.row];
<a name="l00400"></a>00400             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a428f7b8c9831e4c2cbf20f04997fc70d">leftImageView</a>.image = [UIImage imageNamed:[secondSectionImageArray objectAtIndex:indexPath.row] ];
<a name="l00401"></a>00401             <span class="comment">//未出行样式</span>
<a name="l00402"></a>00402             UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00403"></a>00403             <span class="comment">//消息技数样式</span>
<a name="l00404"></a>00404             UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00405"></a>00405             btn.hidden = YES;
<a name="l00406"></a>00406             btnS.hidden = YES;
<a name="l00407"></a>00407             <span class="keywordflow">if</span> (indexPath.row == 2)
<a name="l00408"></a>00408             {
<a name="l00409"></a>00409                 <span class="keywordtype">int</span> total = <a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a40500c11bfaeed95016463b624a223a0">numOfUnreadActivityMessages</a> + <a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.numOfUnreadActivityComments;
<a name="l00410"></a>00410                 <span class="keywordflow">if</span> (total &gt;0)
<a name="l00411"></a>00411                 {
<a name="l00412"></a>00412                     btnS.hidden = NO;
<a name="l00413"></a>00413                     [btnS setTitle:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%d&quot;,total] forState:UIControlStateNormal];
<a name="l00414"></a>00414                 }
<a name="l00415"></a>00415                 <span class="keywordflow">else</span>
<a name="l00416"></a>00416                 {
<a name="l00417"></a>00417                     btnS.hidden = YES;
<a name="l00418"></a>00418                 }
<a name="l00419"></a>00419             }
<a name="l00420"></a>00420             
<a name="l00421"></a>00421         }
<a name="l00422"></a>00422             <span class="keywordflow">break</span>;
<a name="l00423"></a>00423         <span class="keywordflow">case</span> 3:
<a name="l00424"></a>00424         {
<a name="l00425"></a>00425             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a1ee624daec1cd4b35c5463a58aac6959">eMainTitleLabel</a>.text = [thirdSectionArray objectAtIndex:indexPath.row];
<a name="l00426"></a>00426             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a428f7b8c9831e4c2cbf20f04997fc70d">leftImageView</a>.image = [UIImage imageNamed:[thirdSectionImageArray objectAtIndex:indexPath.row] ];
<a name="l00427"></a>00427             <span class="comment">//未出行样式</span>
<a name="l00428"></a>00428             UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00429"></a>00429             <span class="comment">//消息技数样式</span>
<a name="l00430"></a>00430             UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00431"></a>00431             btn.hidden = YES;
<a name="l00432"></a>00432             btnS.hidden = YES;
<a name="l00433"></a>00433             
<a name="l00434"></a>00434         }
<a name="l00435"></a>00435             
<a name="l00436"></a>00436             <span class="keywordflow">break</span>;
<a name="l00437"></a>00437         <span class="keywordflow">case</span> 5:
<a name="l00438"></a>00438         {
<a name="l00439"></a>00439             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a1ee624daec1cd4b35c5463a58aac6959">eMainTitleLabel</a>.text = [fifthSectionArray objectAtIndex:indexPath.row];
<a name="l00440"></a>00440             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a428f7b8c9831e4c2cbf20f04997fc70d">leftImageView</a>.image = [UIImage imageNamed:[fifthSectionImageArray objectAtIndex:indexPath.row] ];
<a name="l00441"></a>00441 
<a name="l00442"></a>00442             <span class="keywordflow">if</span> (indexPath.row ==2)
<a name="l00443"></a>00443             {
<a name="l00444"></a>00444                 <span class="comment">//未出行样式</span>
<a name="l00445"></a>00445                 UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00446"></a>00446                 <span class="comment">//消息技数样式</span>
<a name="l00447"></a>00447                 UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00448"></a>00448                 btn.hidden = YES;
<a name="l00449"></a>00449                 btnS.hidden = YES;
<a name="l00450"></a>00450                 <span class="keywordflow">if</span> (<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#aadca6bfcd8f55b9925c3a31f7ae54177">moreNum</a> !=0)
<a name="l00451"></a>00451                 {
<a name="l00452"></a>00452                     btnS.hidden = NO;
<a name="l00453"></a>00453                     [btnS setTitle:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%d&quot;,moreNum] forState:UIControlStateNormal];
<a name="l00454"></a>00454                     
<a name="l00455"></a>00455                 }
<a name="l00456"></a>00456                 
<a name="l00457"></a>00457             }
<a name="l00458"></a>00458             <span class="keywordflow">else</span>
<a name="l00459"></a>00459             {
<a name="l00460"></a>00460                 <span class="comment">//未出行样式</span>
<a name="l00461"></a>00461                 UIButton *btn = (UIButton *)[cell.contentView viewWithTag:2000];
<a name="l00462"></a>00462                 <span class="comment">//消息技数样式</span>
<a name="l00463"></a>00463                 UIButton *btnS = (UIButton *)[cell.contentView viewWithTag:2001];
<a name="l00464"></a>00464                 btn.hidden = YES;
<a name="l00465"></a>00465                 btnS.hidden = YES;
<a name="l00466"></a>00466                 
<a name="l00467"></a>00467             }
<a name="l00468"></a>00468             
<a name="l00469"></a>00469         }
<a name="l00470"></a>00470             
<a name="l00471"></a>00471             <span class="keywordflow">break</span>;
<a name="l00472"></a>00472         <span class="keywordflow">case</span> 4:
<a name="l00473"></a>00473         {
<a name="l00474"></a>00474             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a7580ac8a4affe69b5edd59061ba9b007">mainTitleSpLabel</a>.text = [fourthSectionArray objectAtIndex:indexPath.row];
<a name="l00475"></a>00475             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a0ec9838a16ec7d07fe7e5cc7fc8d2d73">leftBigImageView</a>.image = [UIImage imageNamed:[fourthSectionImageArray objectAtIndex:indexPath.row] ];
<a name="l00476"></a>00476             cell.<a class="code" href="interface_c_t_my_ctrip_cell.html#a0a536711cadb850001a0ce91fff267dd">subTitleSpLabel</a>.text = [fourthSubSectionArray objectAtIndex:indexPath.row];
<a name="l00477"></a>00477             UIButton *btnT = (UIButton *)[cell.contentView viewWithTag:2003];
<a name="l00478"></a>00478             btnT.hidden = YES;
<a name="l00479"></a>00479             if (indexPath.row==0)
<a name="l00480"></a>00480             {
<a name="l00481"></a>00481                 <span class="keywordflow">if</span>(<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#afb692caa73d95e66bb71b81b8eadd4c7">unReadLowPriceMsgNum_</a>!=0)
<a name="l00482"></a>00482                 {
<a name="l00483"></a>00483                     btnT.hidden = NO;
<a name="l00484"></a>00484                     [btnT setTitle:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%d&quot;,__dataSource.unReadLowPriceMsgNum_] forState:UIControlStateNormal];
<a name="l00485"></a>00485                 }
<a name="l00486"></a>00486             }
<a name="l00487"></a>00487         }
<a name="l00488"></a>00488             
<a name="l00489"></a>00489         <span class="keywordflow">default</span>:
<a name="l00490"></a>00490             <span class="keywordflow">break</span>;
<a name="l00491"></a>00491     }
<a name="l00492"></a>00492     
<a name="l00493"></a>00493     
<a name="l00494"></a>00494     [cell <a class="code" href="interface_c_t_custome_group_table_view_cell.html#a46303376a165db0e3c0fff88b8d471a1">setGroupPositionForIndexPath</a>:indexPath <a class="code" href="interface_c_t_custome_group_table_view_cell.html#a46303376a165db0e3c0fff88b8d471a1">inTableView</a>:self.tableView];
<a name="l00495"></a>00495     <span class="keywordflow">return</span> cell;
<a name="l00496"></a>00496 }
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 - (<a class="code" href="_g_t_m_defines_8h.html#a18d4caed68adad61eb9fe96a613914a9">CGFloat</a>)<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab989cb45c930de1dbb4e4950e36b42df">tableView</a>:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
<a name="l00499"></a>00499 {
<a name="l00500"></a>00500     <a class="code" href="_g_t_m_defines_8h.html#a18d4caed68adad61eb9fe96a613914a9">CGFloat</a> rowHeight;
<a name="l00501"></a>00501     <span class="keywordflow">if</span> (indexPath.section == 4) {
<a name="l00502"></a>00502         rowHeight = 64;
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504     <span class="keywordflow">else</span>
<a name="l00505"></a>00505     {
<a name="l00506"></a>00506         rowHeight = 44;
<a name="l00507"></a>00507     }
<a name="l00508"></a>00508 
<a name="l00509"></a>00509     <span class="keywordflow">return</span> rowHeight;
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 <span class="preprocessor">#pragma mark ---------------首页订单动态的使用-------------</span>
<a name="l00513"></a>00513 <span class="preprocessor"></span>- (<a class="code" href="_g_t_m_defines_8h.html#a18d4caed68adad61eb9fe96a613914a9">CGFloat</a>)tableView:(UITableView *)tableView heightForHeaderInSection:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)section
<a name="l00514"></a>00514 {
<a name="l00515"></a>00515     <a class="code" href="interface_c_t_home_cache_bean.html">CTHomeCacheBean</a> *varCachBean = (<a class="code" href="interface_c_t_home_cache_bean.html">CTHomeCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a6f23024006448507a5bf4d7b575c3db8">FLAG_Home_CTHomeCacheBean</a>];
<a name="l00516"></a>00516 <span class="comment">//    NSMutableArray *flightList = [[[NSMutableArray alloc] initWithArray:varCachBean.flightOrderItemList copyItems:YES] autorelease];</span>
<a name="l00517"></a>00517 <span class="comment">//    NSMutableArray *hotelList = [[[NSMutableArray alloc] initWithArray:varCachBean.hotelOrderItemList copyItems:YES] autorelease];</span>
<a name="l00518"></a>00518     <span class="keywordtype">int</span> varCount = [varCachBean.flightOrderItemList count] + [varCachBean.hotelOrderItemList count];
<a name="l00519"></a>00519     
<a name="l00520"></a>00520     <span class="keywordflow">if</span> (varCount !=0)
<a name="l00521"></a>00521     {
<a name="l00522"></a>00522         <span class="keywordflow">if</span> (section == 0)
<a name="l00523"></a>00523         {
<a name="l00524"></a>00524 
<a name="l00525"></a>00525             <a class="code" href="_g_t_m_defines_8h.html#a18d4caed68adad61eb9fe96a613914a9">CGFloat</a> flightHeight = 0;
<a name="l00526"></a>00526             <span class="keywordflow">if</span> (varCachBean.<a class="code" href="interface_c_t_home_cache_bean.html#abea297d28e398fe9feb9384f109c4f1e">flightOrderItemList</a>.count&gt;0)
<a name="l00527"></a>00527             {
<a name="l00528"></a>00528                 flightHeight = [<a class="code" href="interface_c_t_flight_order_dynamic_view.html">CTFlightOrderDynamicView</a> <a class="code" href="interface_c_t_flight_order_dynamic_view.html#a0630741ea66a832e0acb6595fa3248fb">caculateCellHeightWithData</a>:[varCachBean.flightOrderItemList objectAtIndexForCtrip:0]];
<a name="l00529"></a>00529             }
<a name="l00530"></a>00530             <span class="keywordflow">return</span> varCachBean.<a class="code" href="interface_c_t_home_cache_bean.html#aa600a6550b848d64e2d978fbb1c1c2bc">hotelOrderItemList</a>.count&gt;0?MAX(flightHeight, 149)+17.5:flightHeight+17.5;
<a name="l00531"></a>00531         }
<a name="l00532"></a>00532         
<a name="l00533"></a>00533     }
<a name="l00534"></a>00534     <span class="keywordflow">return</span> 5;
<a name="l00535"></a>00535 }
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 - (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)section{
<a name="l00538"></a>00538     
<a name="l00539"></a>00539     <a class="code" href="interface_c_t_home_cache_bean.html">CTHomeCacheBean</a> *varCachBean = (<a class="code" href="interface_c_t_home_cache_bean.html">CTHomeCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a6f23024006448507a5bf4d7b575c3db8">FLAG_Home_CTHomeCacheBean</a>];
<a name="l00540"></a>00540     <span class="keywordtype">int</span> varCount = [varCachBean.flightOrderItemList count] + [varCachBean.hotelOrderItemList count];
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     <span class="keywordflow">if</span> (varCount !=0 )
<a name="l00543"></a>00543     {
<a name="l00544"></a>00544         <span class="keywordflow">if</span> (section ==0)
<a name="l00545"></a>00545         {
<a name="l00546"></a>00546 
<a name="l00547"></a>00547             <a class="code" href="interface_c_t_flight_order_dynamic_view.html">CTFlightOrderDynamicView</a> *flightDynamicView = <span class="keyword">self</span>.dyView.flightDynamicView;
<a name="l00548"></a>00548             [flightDynamicView.noticeButton setUnreadNotificationCount:__dataSource.unReadFlightVarNum_];
<a name="l00549"></a>00549             <span class="keywordflow">return</span> <span class="keyword">self</span>.dyView;
<a name="l00550"></a>00550       
<a name="l00551"></a>00551         }
<a name="l00552"></a>00552         <span class="keywordflow">else</span>
<a name="l00553"></a>00553         {
<a name="l00554"></a>00554             <span class="keywordflow">return</span> nil;
<a name="l00555"></a>00555         }
<a name="l00556"></a>00556     }
<a name="l00557"></a>00557     
<a name="l00558"></a>00558     <span class="keywordflow">else</span>
<a name="l00559"></a>00559     <span class="keywordflow">return</span> nil;
<a name="l00560"></a>00560     
<a name="l00561"></a>00561 }
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 <span class="preprocessor">#pragma mark --------------------表格底部试图</span>
<a name="l00564"></a>00564 <span class="preprocessor"></span>- (<a class="code" href="_g_t_m_defines_8h.html#a18d4caed68adad61eb9fe96a613914a9">CGFloat</a>)tableView:(UITableView *)tableView heightForFooterInSection:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)section
<a name="l00565"></a>00565 {
<a name="l00566"></a>00566     <span class="keywordflow">if</span> (!(<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a>&amp;&amp;<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a177f0580ebec4c0eeb9875e7b16aab2b">isMember_</a>)&amp;&amp;section == 5)
<a name="l00567"></a>00567     {
<a name="l00568"></a>00568         <span class="keywordflow">return</span> 155;
<a name="l00569"></a>00569     }
<a name="l00570"></a>00570     <span class="keywordflow">if</span> (section == 5)
<a name="l00571"></a>00571     {
<a name="l00572"></a>00572         <span class="keywordflow">return</span> 155;
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574     <span class="keywordflow">return</span> 5;
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 - (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)section
<a name="l00578"></a>00578 {
<a name="l00579"></a>00579     <span class="keywordflow">if</span> (!(<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a>&amp;&amp;<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a177f0580ebec4c0eeb9875e7b16aab2b">isMember_</a>)&amp;&amp;section ==5)
<a name="l00580"></a>00580     {
<a name="l00581"></a>00581         [<span class="keyword">self</span>.logBtn setTitle:@&quot;登录&quot; forState:UIControlStateNormal];
<a name="l00582"></a>00582         <span class="keywordflow">return</span> <span class="keyword">self</span>.footView;
<a name="l00583"></a>00583     }
<a name="l00584"></a>00584     <span class="keywordflow">if</span> (section == 5)
<a name="l00585"></a>00585     {
<a name="l00586"></a>00586         [<span class="keyword">self</span>.logBtn setTitle:@&quot;退出登录&quot; forState:UIControlStateNormal];
<a name="l00587"></a>00587         <span class="keywordflow">return</span> <span class="keyword">self</span>.footView;
<a name="l00588"></a>00588     }
<a name="l00589"></a>00589     <span class="keywordflow">return</span> nil;
<a name="l00590"></a>00590 }
<a name="l00591"></a>00591 <span class="preprocessor">#pragma mark ----------------- 点击表格特定的某一行-------------------</span>
<a name="l00592"></a>00592 <span class="preprocessor"></span>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
<a name="l00593"></a>00593 {
<a name="l00594"></a>00594 <span class="comment">//    TLog(@&quot;#########  %d&quot;,__dataSource.isLoginSuccess_);</span>
<a name="l00595"></a>00595     [<span class="keyword">self</span>.tableView deselectRowAtIndexPath:indexPath animated:YES];
<a name="l00596"></a>00596     
<a name="l00597"></a>00597     <span class="keywordflow">if</span> ((indexPath.section ==0&amp;&amp;indexPath.row==0) ||indexPath.section ==1)
<a name="l00598"></a>00598     {
<a name="l00599"></a>00599         <span class="keywordflow">if</span> (!(<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a>))
<a name="l00600"></a>00600         {
<a name="l00601"></a>00601             <a class="code" href="interface_c_t_login_lookup_widget.html">CTLoginLookupWidget</a> *logInWidget = [<a class="code" href="interface_c_t_login_lookup_widget.html">CTLoginLookupWidget</a> <a class="code" href="interface_c_t_title_bar_widget.html#a6868cf3f8c6fc7bb6fe72f10347360ad">widgetWithTitle</a>:@&quot;会员登录&quot;] ;
<a name="l00602"></a>00602             logInWidget.<a class="code" href="interface_c_t_login_widget.html#afad646e321c4111ac794926a0597b7fb">delegate</a> = (id)<span class="keyword">self</span>;
<a name="l00603"></a>00603             logInWidget.<a class="code" href="interface_c_t_login_widget.html#a792b32e507c91cf8fad18fd513e257c5">delegateVC</a> = (id)<span class="keyword">self</span>;
<a name="l00604"></a>00604             [logInWidget <a class="code" href="interface_c_t_title_bar_widget.html#afc70c23d6a0464d25b15637103c974a4">showInView</a>:self.view] ;
<a name="l00605"></a>00605             <span class="keyword">self</span>.midIndexPath = nil;
<a name="l00606"></a>00606             <span class="keyword">self</span>.midIndexPath = indexPath;
<a name="l00607"></a>00607             
<a name="l00608"></a>00608             <span class="keywordflow">return</span>;
<a name="l00609"></a>00609         }
<a name="l00610"></a>00610         <span class="keywordflow">else</span>
<a name="l00611"></a>00611         {
<a name="l00612"></a>00612             <span class="keywordflow">if</span> (!<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a177f0580ebec4c0eeb9875e7b16aab2b">isMember_</a>)
<a name="l00613"></a>00613             {
<a name="l00614"></a>00614                 <a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a> = NO;
<a name="l00615"></a>00615             }
<a name="l00616"></a>00616         }
<a name="l00617"></a>00617         
<a name="l00618"></a>00618     }
<a name="l00619"></a>00619 
<a name="l00620"></a>00620     <span class="keywordflow">if</span> (indexPath.section ==2 ||indexPath.section ==3 ||indexPath.section ==4 ||(indexPath.section == 0 &amp;&amp;indexPath.row ==1)||((indexPath.section ==5)&amp;&amp;(indexPath.row ==0 )))
<a name="l00621"></a>00621     {
<a name="l00622"></a>00622         <span class="keywordflow">if</span> (!(<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a>&amp;&amp;<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a177f0580ebec4c0eeb9875e7b16aab2b">isMember_</a>))
<a name="l00623"></a>00623         {
<a name="l00624"></a>00624             <span class="keyword">self</span>.midIndexPath = nil;
<a name="l00625"></a>00625             <span class="keyword">self</span>.midIndexPath = indexPath;
<a name="l00626"></a>00626             <a class="code" href="interface_c_t_login_no_member_widget.html">CTLoginNoMemberWidget</a> *logInWidget = [<a class="code" href="interface_c_t_login_no_member_widget.html">CTLoginNoMemberWidget</a> <a class="code" href="interface_c_t_title_bar_widget.html#a6868cf3f8c6fc7bb6fe72f10347360ad">widgetWithTitle</a>:@&quot;会员登录&quot;] ;
<a name="l00627"></a>00627             logInWidget.<a class="code" href="interface_c_t_login_widget.html#afad646e321c4111ac794926a0597b7fb">delegate</a> = (id)<span class="keyword">self</span>;
<a name="l00628"></a>00628             logInWidget.<a class="code" href="interface_c_t_login_widget.html#a792b32e507c91cf8fad18fd513e257c5">delegateVC</a> = (id)<span class="keyword">self</span>;
<a name="l00629"></a>00629             [logInWidget <a class="code" href="interface_c_t_title_bar_widget.html#afc70c23d6a0464d25b15637103c974a4">showInView</a>:self.view] ;
<a name="l00630"></a>00630             <span class="keywordflow">return</span>;
<a name="l00631"></a>00631         }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633     }
<a name="l00634"></a>00634     <span class="keywordflow">switch</span> (indexPath.section)
<a name="l00635"></a>00635     {
<a name="l00636"></a>00636         <span class="keywordflow">case</span> 0:
<a name="l00637"></a>00637         {
<a name="l00638"></a>00638             [<span class="keyword">self</span> goSectionZero:indexPath];
<a name="l00639"></a>00639         }
<a name="l00640"></a>00640             <span class="keywordflow">break</span>;
<a name="l00641"></a>00641         <span class="keywordflow">case</span> 1:
<a name="l00642"></a>00642         {
<a name="l00643"></a>00643             [<span class="keyword">self</span> goSectionOne:indexPath];
<a name="l00644"></a>00644         }
<a name="l00645"></a>00645             <span class="keywordflow">break</span>;
<a name="l00646"></a>00646         <span class="keywordflow">case</span> 2:
<a name="l00647"></a>00647         {
<a name="l00648"></a>00648             [<span class="keyword">self</span> goSectionTwo:indexPath];
<a name="l00649"></a>00649         }
<a name="l00650"></a>00650             <span class="keywordflow">break</span>;
<a name="l00651"></a>00651         <span class="keywordflow">case</span> 3:
<a name="l00652"></a>00652         {
<a name="l00653"></a>00653             [<span class="keyword">self</span> goSectionThree:indexPath];
<a name="l00654"></a>00654         }
<a name="l00655"></a>00655             <span class="keywordflow">break</span>;
<a name="l00656"></a>00656         <span class="keywordflow">case</span> 4:
<a name="l00657"></a>00657         {
<a name="l00658"></a>00658             [<span class="keyword">self</span> goSectionFour:indexPath];
<a name="l00659"></a>00659         }
<a name="l00660"></a>00660             <span class="keywordflow">break</span>;
<a name="l00661"></a>00661         <span class="keywordflow">case</span> 5:
<a name="l00662"></a>00662         {
<a name="l00663"></a>00663             [<span class="keyword">self</span> goSectionFive:indexPath];
<a name="l00664"></a>00664         }
<a name="l00665"></a>00665             <span class="keywordflow">break</span>;
<a name="l00666"></a>00666         <span class="keywordflow">default</span>:
<a name="l00667"></a>00667             <span class="keywordflow">break</span>;
<a name="l00668"></a>00668     }
<a name="l00669"></a>00669 }
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 
<a name="l00672"></a>00672 - (void)goSectionZero:(NSIndexPath *)indexPath
<a name="l00673"></a>00673 {
<a name="l00674"></a>00674     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <span class="keywordflow">switch</span> (indexPath.row)
<a name="l00677"></a>00677     {
<a name="l00678"></a>00678         <span class="keywordflow">case</span> 0:
<a name="l00679"></a>00679         {
<a name="l00680"></a>00680             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTDetailView&quot; listener:@&quot;mOnClickListener4&quot;];
<a name="l00681"></a>00681             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_non_travel_order_list_sender.html">CTNonTravelOrderListSender</a> <a class="code" href="interface_c_t_non_travel_order_list_sender.html#ae0482f9b3804558cf5e505efb4909651">getInstance</a>] <a class="code" href="interface_c_t_non_travel_order_list_sender.html#affb0245a06857e10ee2ca81e1d02aedf">sendNonTravelOrderSearch</a>];
<a name="l00682"></a>00682             <span class="comment">//                TLog(@&quot;[~~~~~~~~~  %d]&quot;,nextPage.ctripNavigationController.viewControllers.count);</span><span class="comment">//                                  TLog(@&quot;[~~~~~~~~~  %d]&quot;,nextPage.ctripNavigationController.viewControllers.count);</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_not_travel_order_view_controller.html">CTNotTravelOrderViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00683"></a>00683                                 CTNotTravelOrderViewController *nextPage = (CTNotTravelOrderViewController *)goToPageObject;
<a name="l00684"></a>00684                 
<a name="l00685"></a>00685 
<a name="l00686"></a>00686                 
<a name="l00687"></a>00687                                 [nextPage reloadDataForTableView];
<a name="l00688"></a>00688                             } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00689"></a>00689             
<a name="l00690"></a>00690                                TLog(@&quot;失败了&quot;);
<a name="l00691"></a>00691                                 CTNotTravelOrderViewController *nextPage = (CTNotTravelOrderViewController *)goToPageObject;
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 
<a name="l00694"></a>00694                                
<a name="l00695"></a>00695                            }];
<a name="l00696"></a>00696         }
<a name="l00697"></a>00697             <span class="keywordflow">break</span>;
<a name="l00698"></a>00698         <span class="keywordflow">case</span> 1:
<a name="l00699"></a>00699         {
<a name="l00700"></a>00700             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTDetailView&quot; listener:@&quot;mOnClickListener5&quot;];
<a name="l00701"></a>00701             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#a7ffcff0647ff7da83c22833412f12d26">sendSearchCommendableHotel</a>];
<a name="l00702"></a>00702             <span class="comment">//日志内容信息</span><span class="comment">//报错信息记录文件</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_comment_hotel_list_view_controller.html">CTCommentHotelListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) 
<a name="l00703"></a>00703             {
<a name="l00704"></a>00704                 NSString *dateformat = @&quot;yyyy-MM-dd HH:mm:SSS&quot;;
<a name="l00705"></a>00705                 NSDateFormatter *dateFormater = [<a class="code" href="interface_date_util.html">DateUtil</a> <a class="code" href="interface_date_util.html#a822a9c2c37fc590feb9be29c5d5e6118">getCurrentDateFormatter</a>];
<a name="l00706"></a>00706                 [dateFormater setDateFormat:dateformat];
<a name="l00707"></a>00707                 NSString *timeString = [dateFormater stringFromDate:[NSDate date]];
<a name="l00708"></a>00708                 
<a name="l00709"></a>00709                 NSString* logInformation = [<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;%@hotelComment  %@&quot;, timeString, NSStringFromClass(self.class)];
<a name="l00710"></a>00710                 
<a name="l00711"></a>00711                 
<a name="l00712"></a>00712                 NSString *path = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:[<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;hotelComment%@.txt&quot;, timeString]];
<a name="l00713"></a>00713                 NSArray *arr = [NSThread callStackSymbols];
<a name="l00714"></a>00714                 [logInformation writeToFile:path atomically:YES encoding:NSUTF8StringEncoding error:nil];
<a name="l00715"></a>00715                 CTCommentHotelListViewController *commentListVc = (CTCommentHotelListViewController *)goToPageObject;
<a name="l00716"></a>00716                 [commentListVc reloadCommentHotelList];
<a name="l00717"></a>00717             }
<a name="l00718"></a>00718                 failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject)
<a name="l00719"></a>00719             {
<a name="l00720"></a>00720                 TLog(@&quot;######服务失败了哦##########&quot;);
<a name="l00721"></a>00721             }];
<a name="l00722"></a>00722             
<a name="l00723"></a>00723 
<a name="l00724"></a>00724         }
<a name="l00725"></a>00725         <span class="keywordflow">default</span>:
<a name="l00726"></a>00726             <span class="keywordflow">break</span>;
<a name="l00727"></a>00727     }
<a name="l00728"></a>00728 }
<a name="l00729"></a>00729 
<a name="l00730"></a>00730 - (void)goSectionOne:(NSIndexPath *)indexPath
<a name="l00731"></a>00731 {
<a name="l00732"></a>00732     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];    
<a name="l00733"></a>00733     <span class="keywordflow">switch</span> ([indexPath row])
<a name="l00734"></a>00734     {
<a name="l00735"></a>00735         <span class="keywordflow">case</span> 0:
<a name="l00736"></a>00736         {
<a name="l00737"></a>00737             <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab97dd1480878942874f99d89e3490de9">whereToGo</a> = 0;
<a name="l00738"></a>00738             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTListOrderViewController&quot; listener:@&quot;listListener1&quot;];
<a name="l00739"></a>00739             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_hotel_order_list_sender.html">CTHotelOrderListSender</a> <a class="code" href="interface_c_t_hotel_order_list_sender.html#a9d17fa335ac020ca7949f5079217ac90">getInstance</a>] <a class="code" href="interface_c_t_hotel_order_list_sender.html#af96fc1ead27e530ee90a32d8e1d233b9">sendSearchHotelOrderList</a>:@&quot;0&quot;];
<a name="l00740"></a>00740             <span class="comment">// [SqliteUtil updateHotelEvaluateModelWithUserId:__dataSource.userID_];</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_order_list_view_controller.html">CTOrderListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00741"></a>00741             
<a name="l00742"></a>00742                
<a name="l00743"></a>00743                 CTOrderListViewController *nextPage = (CTOrderListViewController *)goToPageObject;
<a name="l00744"></a>00744                 nextPage.siftPickView.delegate = (id)nextPage;
<a name="l00745"></a>00745                 nextPage.siftPickView.dataSource = (id)nextPage;
<a name="l00746"></a>00746                 [nextPage.siftArray addObject:@&quot;全部&quot;];
<a name="l00747"></a>00747                 [nextPage.siftArray addObject:@&quot;已确认&quot;];
<a name="l00748"></a>00748                 [nextPage.siftArray addObject:@&quot;确认中&quot;];
<a name="l00749"></a>00749                 [nextPage.siftArray addObject:@&quot;已成交&quot;];
<a name="l00750"></a>00750                 [nextPage.siftArray addObject:@&quot;已取消&quot;];
<a name="l00751"></a>00751                 [nextPage.chooseBtn setEnabled:YES];
<a name="l00752"></a>00752                 nextPage.intFirst = YES;
<a name="l00753"></a>00753                 [nextPage updateHotelList:0];
<a name="l00754"></a>00754                 } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00755"></a>00755             
<a name="l00756"></a>00756                     TLog(@&quot;失败了&quot;);
<a name="l00757"></a>00757 
<a name="l00758"></a>00758             }];
<a name="l00759"></a>00759         }
<a name="l00760"></a>00760             <span class="keywordflow">break</span>;
<a name="l00761"></a>00761         <span class="keywordflow">case</span> 1: <span class="comment">//团购</span>
<a name="l00762"></a>00762         {
<a name="l00763"></a>00763             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTListOrderViewController&quot; listener:@&quot;hotelGroup&quot;];
<a name="l00764"></a>00764             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_hotel_groupon_order_list_sender.html">CTHotelGrouponOrderListSender</a> <a class="code" href="interface_c_t_hotel_groupon_order_list_sender.html#a84f73ff1d7f7b45775be7593d7ffbae0">getInstance</a>] <a class="code" href="interface_c_t_hotel_groupon_order_list_sender.html#a78b2637dfc7d9179a0e1025e09939241">sendHotelGrouponOrderListByOrderStatus</a>:EHotelGrouponOrderStatusAll];<span class="comment">//0表示全部订单</span>
<a name="l00765"></a>00765             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_hotel_group_order_list_view_controller.html">CTHotelGroupOrderListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00766"></a>00766                 TLog(@&quot;成功了&quot;);
<a name="l00767"></a>00767                 CTHotelGroupOrderListViewController *nextPage = (CTHotelGroupOrderListViewController *)goToPageObject;
<a name="l00768"></a>00768                 nextPage.siftPickView.delegate = (id)nextPage;
<a name="l00769"></a>00769                 nextPage.siftPickView.dataSource = (id)nextPage;
<a name="l00770"></a>00770                 [nextPage.siftArray addObject:@&quot;全部&quot;];
<a name="l00771"></a>00771                 [nextPage.siftArray addObject:@&quot;待支付&quot;];
<a name="l00772"></a>00772                 [nextPage.siftArray addObject:@&quot;支付中&quot;];
<a name="l00773"></a>00773                 [nextPage.siftArray addObject:@&quot;支付失败&quot;];
<a name="l00774"></a>00774                 [nextPage.siftArray addObject:@&quot;支付成功&quot;];
<a name="l00775"></a>00775                 [nextPage.siftArray addObject:@&quot;已取消&quot;];
<a name="l00776"></a>00776                 [nextPage.chooseBtn setEnabled:YES];
<a name="l00777"></a>00777                 nextPage.intFirst = YES;
<a name="l00778"></a>00778                 [nextPage updateHotelList];
<a name="l00779"></a>00779                 
<a name="l00780"></a>00780             } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00781"></a>00781                 TLog(@&quot;失败了&quot;);
<a name="l00782"></a>00782                 
<a name="l00783"></a>00783             }];
<a name="l00784"></a>00784         }
<a name="l00785"></a>00785             <span class="keywordflow">break</span>;
<a name="l00786"></a>00786         <span class="keywordflow">case</span> 2:
<a name="l00787"></a>00787         {
<a name="l00788"></a>00788             <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab97dd1480878942874f99d89e3490de9">whereToGo</a> = 1;
<a name="l00789"></a>00789             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTListOrderViewController&quot; listener:@&quot;listListener3&quot;];
<a name="l00790"></a>00790             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_flight_order_list_sender.html">CTFlightOrderListSender</a> <a class="code" href="interface_c_t_flight_order_list_sender.html#a9c0504d385f155ba49b3a7d349c7fbff">getInstance</a>] <a class="code" href="interface_c_t_flight_order_list_sender.html#a9e3edda5060e5c135e03e644b207d742">sendSearchFlightOrderList</a>:0] ;
<a name="l00791"></a>00791             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_order_list_view_controller.html">CTOrderListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00792"></a>00792                 
<a name="l00793"></a>00793                 TLog(@&quot;成功了&quot;);
<a name="l00794"></a>00794                 CTOrderListViewController *nextPage = (CTOrderListViewController *)goToPageObject;
<a name="l00795"></a>00795                 nextPage.siftPickView.delegate = (id)nextPage;
<a name="l00796"></a>00796                 nextPage.siftPickView.dataSource = (id)nextPage;
<a name="l00797"></a>00797                 [nextPage.siftArray addObject:@&quot;全部&quot;];
<a name="l00798"></a>00798                 [nextPage.siftArray addObject:@&quot;未处理&quot;];
<a name="l00799"></a>00799                 [nextPage.siftArray addObject:@&quot;处理中&quot;];
<a name="l00800"></a>00800                 [nextPage.siftArray addObject:@&quot;已成交&quot;];
<a name="l00801"></a>00801                 [nextPage.siftArray addObject:@&quot;已取消&quot;];
<a name="l00802"></a>00802                 [nextPage.siftArray addObject:@&quot;全部退票&quot;];
<a name="l00803"></a>00803                 [nextPage.siftArray addObject:@&quot;部分退票&quot;];
<a name="l00804"></a>00804                 [nextPage.chooseBtn setEnabled:YES];
<a name="l00805"></a>00805                 nextPage.intFirst = YES;
<a name="l00806"></a>00806                 [nextPage updateInlandList:1];
<a name="l00807"></a>00807                 
<a name="l00808"></a>00808                 } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00809"></a>00809                     TLog(@&quot;失败了&quot;);
<a name="l00810"></a>00810       
<a name="l00811"></a>00811                 }];
<a name="l00812"></a>00812         }
<a name="l00813"></a>00813             <span class="keywordflow">break</span>;
<a name="l00814"></a>00814             <span class="comment">//国际机票</span>
<a name="l00815"></a>00815         <span class="keywordflow">case</span> 3:
<a name="l00816"></a>00816         {
<a name="l00817"></a>00817             <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab97dd1480878942874f99d89e3490de9">whereToGo</a> = 2;
<a name="l00818"></a>00818             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTListOrderViewController&quot; listener:@&quot;listListener4&quot;];
<a name="l00819"></a>00819             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_intl_flight_order_list_sender.html">CTIntlFlightOrderListSender</a> <a class="code" href="interface_c_t_intl_flight_order_list_sender.html#ac4d6c5037c4f91d877e8ea0bd8490ea7">getInstance</a>] <a class="code" href="interface_c_t_intl_flight_order_list_sender.html#afd6926906060da039fa91c6b855d850d">sendSearchIntFlightOrderList</a>:0] ;
<a name="l00820"></a>00820             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_order_list_view_controller.html">CTOrderListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00821"></a>00821             
<a name="l00822"></a>00822                 TLog(@&quot;成功了&quot;);
<a name="l00823"></a>00823                 CTOrderListViewController *nextPage = (CTOrderListViewController *)goToPageObject;
<a name="l00824"></a>00824                 nextPage.siftPickView.delegate = (id)nextPage;
<a name="l00825"></a>00825                 nextPage.siftPickView.dataSource = (id)nextPage;
<a name="l00826"></a>00826                 [nextPage.siftArray addObject:@&quot;全部&quot;];
<a name="l00827"></a>00827                 [nextPage.siftArray addObject:@&quot;未处理&quot;];
<a name="l00828"></a>00828                 [nextPage.siftArray addObject:@&quot;处理中&quot;];
<a name="l00829"></a>00829                 [nextPage.siftArray addObject:@&quot;已成交&quot;];
<a name="l00830"></a>00830                 [nextPage.siftArray addObject:@&quot;已取消&quot;];
<a name="l00831"></a>00831                 [nextPage.siftArray addObject:@&quot;全部退票&quot;];
<a name="l00832"></a>00832                 [nextPage.siftArray addObject:@&quot;部分退票&quot;];
<a name="l00833"></a>00833                 [nextPage.chooseBtn setEnabled:YES];
<a name="l00834"></a>00834                 nextPage.intFirst = YES;
<a name="l00835"></a>00835                 [nextPage updateInterList:2];
<a name="l00836"></a>00836             
<a name="l00837"></a>00837                 } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00838"></a>00838             
<a name="l00839"></a>00839                     TLog(@&quot;失败了&quot;);
<a name="l00840"></a>00840             
<a name="l00841"></a>00841                         }];
<a name="l00842"></a>00842                     }
<a name="l00843"></a>00843                         <span class="keywordflow">break</span>;
<a name="l00844"></a>00844         <span class="keywordflow">case</span> 4:
<a name="l00845"></a>00845         {
<a name="l00846"></a>00846           <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab97dd1480878942874f99d89e3490de9">whereToGo</a> = 3;
<a name="l00847"></a>00847           [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTListOrderViewController&quot; listener:@&quot;listListener5&quot;];
<a name="l00848"></a>00848           [<span class="keyword">self</span> goToNextPageWithCacheBean:self.ctripCacheBean saveParam:nil isGoBackAfterCancel:YES nextPageClass:[<a class="code" href="interface_c_t_order_list_view_controller.html">CTOrderListViewController</a> class] nextCacheBeanCreateBlock:^CTViewCacheBean *{
<a name="l00849"></a>00849               CTTrainOrderListCacheBean *cache = [[<a class="code" href="interface_c_t_train_order_list_cache_bean.html">CTTrainOrderListCacheBean</a> alloc] init];
<a name="l00850"></a>00850               return cache;
<a name="l00851"></a>00851           } sendServiceBlock:^CTSenderResultModel *(CTViewCacheBean *nextCacheBean) {
<a name="l00852"></a>00852               CTSenderResultModel *resultModel = [[<a class="code" href="interface_c_t_train_order_list_sender.html">CTTrainOrderListSender</a> <a class="code" href="interface_c_t_train_order_list_sender.html#a066d213b5fb6243dd836451e303d07f9">getInstance</a>] <a class="code" href="interface_c_t_train_order_list_sender.html#af47c580451be051384c38be9cca2a65b">sendTrainOrderList</a>:(CTTrainOrderListCacheBean *)nextCacheBean <a class="code" href="interface_c_t_train_order_list_sender.html#af47c580451be051384c38be9cca2a65b">orderStatus</a>:0];
<a name="l00853"></a>00853               return resultModel;
<a name="l00854"></a>00854           } successBlock:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00855"></a>00855               
<a name="l00856"></a>00856               TLog(@&quot;成功了&quot;);
<a name="l00857"></a>00857               CTOrderListViewController *nextPage = (CTOrderListViewController *)goToPageObject;
<a name="l00858"></a>00858               nextPage.siftPickView.delegate = (id)nextPage;
<a name="l00859"></a>00859               nextPage.siftPickView.dataSource = (id)nextPage;
<a name="l00860"></a>00860               [nextPage.siftArray addObject:@&quot;全部&quot;];
<a name="l00861"></a>00861               [nextPage.siftArray addObject:@&quot;处理中&quot;];
<a name="l00862"></a>00862               [nextPage.siftArray addObject:@&quot;已完成&quot;];
<a name="l00863"></a>00863               [nextPage.chooseBtn setEnabled:YES];
<a name="l00864"></a>00864               nextPage.intFirst = YES;
<a name="l00865"></a>00865               [nextPage updateRailwayList:3];
<a name="l00866"></a>00866               nextPage.intFirst = YES;
<a name="l00867"></a>00867           } failedBlock:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00868"></a>00868               
<a name="l00869"></a>00869           }];
<a name="l00870"></a>00870             
<a name="l00871"></a>00871             
<a name="l00872"></a>00872         }
<a name="l00873"></a>00873             <span class="keywordflow">break</span>;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875         <span class="keywordflow">case</span> 5:
<a name="l00876"></a>00876         {
<a name="l00877"></a>00877             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTListOrderViewController&quot; listener:@&quot;scenerySpot&quot;];
<a name="l00878"></a>00878             <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab97dd1480878942874f99d89e3490de9">whereToGo</a> = 4;
<a name="l00879"></a>00879             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_vacation_ticket_order_list_sender.html">CTVacationTicketOrderListSender</a> <a class="code" href="interface_c_t_vacation_ticket_order_list_sender.html#a313c0a80a18e03bb64b92f9113d8e2c9">getInstance</a>] <a class="code" href="interface_c_t_vacation_ticket_order_list_sender.html#a240251829925b1c63cf196123362d83f">sendSearchVacationOrderList</a>:EVacationOrderListFilterAll];
<a name="l00880"></a>00880             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_entrance_ticket_list_view_controller.html">CTEntranceTicketListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00881"></a>00881                 CTEntranceTicketListViewController *nextPage = (CTEntranceTicketListViewController *)goToPageObject;
<a name="l00882"></a>00882                 [nextPage updateView];
<a name="l00883"></a>00883             } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00884"></a>00884                 CTEntranceTicketListViewController *nextPage = (CTEntranceTicketListViewController *)goToPageObject;
<a name="l00885"></a>00885             }];
<a name="l00886"></a>00886         }
<a name="l00887"></a>00887             <span class="keywordflow">break</span>;
<a name="l00888"></a>00888         <span class="keywordflow">case</span> 6:
<a name="l00889"></a>00889         {
<a name="l00890"></a>00890             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_vacation_self_guided_tour_order_list_sender.html">CTVacationSelfGuidedTourOrderListSender</a> <a class="code" href="interface_c_t_vacation_self_guided_tour_order_list_sender.html#a5098dbcad824ffdfb1c29fe2de22e9fd">getInstance</a>] <a class="code" href="interface_c_t_vacation_self_guided_tour_order_list_sender.html#ad5d3cdc8efc03d27955022f8e97354a7">sendVacationSelfGuidedTourOrderListSearch</a>:SGTOrderStatusAll];
<a name="l00891"></a>00891             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_freewalker_order_list_view_controller.html">CTFreewalkerOrderListViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00892"></a>00892                 CTFreewalkerOrderListViewController *nextPage = (CTFreewalkerOrderListViewController *)goToPageObject;
<a name="l00893"></a>00893                 [nextPage updateView];
<a name="l00894"></a>00894             } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00895"></a>00895                 
<a name="l00896"></a>00896             }];
<a name="l00897"></a>00897         }
<a name="l00898"></a>00898             <span class="keywordflow">break</span>;
<a name="l00899"></a>00899 
<a name="l00900"></a>00900         <span class="keywordflow">case</span> 7:
<a name="l00901"></a>00901         {
<a name="l00902"></a>00902 <span class="comment">//            CTMyCtripUseCarOrderListViewController *useCarOrderListVC = [[CTMyCtripUseCarOrderListViewController alloc]init];</span>
<a name="l00903"></a>00903 <span class="comment">//            [self.ctripNavigationController pushCtripViewController:useCarOrderListVC animated:YES];</span>
<a name="l00904"></a>00904 <span class="comment">//            [useCarOrderListVC release];</span>
<a name="l00905"></a>00905 <span class="comment">//            CTSenderResultModel *resultModel = [[CTCarProductOrderListSender getInstance] sendCarProductOrderListSearch:0];</span>
<a name="l00906"></a>00906             
<a name="l00907"></a>00907             [<span class="keyword">self</span> goToNextPageWithCacheBean:self.ctripCacheBean saveParam:nil isGoBackAfterCancel:YES nextPageClass:[<a class="code" href="interface_c_t_my_ctrip_use_car_order_list_view_controller.html">CTMyCtripUseCarOrderListViewController</a> class]  nextCacheBeanCreateBlock:^CTViewCacheBean *{
<a name="l00908"></a>00908                 CTCarProductOrderListCacheBean *cacheBean = [[<a class="code" href="interface_c_t_car_product_order_list_cache_bean.html">CTCarProductOrderListCacheBean</a> alloc] init];
<a name="l00909"></a>00909                 return cacheBean;
<a name="l00910"></a>00910             } sendServiceBlock:^CTSenderResultModel *(CTViewCacheBean *nextCacheBean) {
<a name="l00911"></a>00911                 CTSenderResultModel *resultModel = [[<a class="code" href="interface_c_t_car_product_order_list_sender.html">CTCarProductOrderListSender</a> <a class="code" href="interface_c_t_car_product_order_list_sender.html#aaa59f0957041d50f7db3f52b3198e539">getInstance</a>] <a class="code" href="interface_c_t_car_product_order_list_sender.html#af445522a19c52b2492e64aa9bd0610a7">sendCarProductOrderListSearch</a>:(CTCarProductOrderListCacheBean *)nextCacheBean <a class="code" href="interface_c_t_car_product_order_list_sender.html#af445522a19c52b2492e64aa9bd0610a7">orderStatus</a>:0];
<a name="l00912"></a>00912                 return resultModel;
<a name="l00913"></a>00913             } successBlock:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00914"></a>00914                 CTMyCtripUseCarOrderListViewController *nextPage = (CTMyCtripUseCarOrderListViewController *)goToPageObject;
<a name="l00915"></a>00915                 [nextPage updateView];
<a name="l00916"></a>00916             } failedBlock:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00917"></a>00917                 
<a name="l00918"></a>00918             }];
<a name="l00919"></a>00919             
<a name="l00920"></a>00920             
<a name="l00921"></a>00921 <span class="comment">//            [self goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[CTMyCtripUseCarOrderListViewController class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {</span>
<a name="l00922"></a>00922 <span class="comment">//                CTMyCtripUseCarOrderListViewController *nextPage = (CTMyCtripUseCarOrderListViewController *)goToPageObject;</span>
<a name="l00923"></a>00923 <span class="comment">//                [nextPage updateView];</span>
<a name="l00924"></a>00924 <span class="comment">//            } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {</span>
<a name="l00925"></a>00925 <span class="comment">//                CTMyCtripUseCarOrderListViewController *nextPage = (CTMyCtripUseCarOrderListViewController *)goToPageObject;</span>
<a name="l00926"></a>00926 <span class="comment">//            }];</span>
<a name="l00927"></a>00927         }
<a name="l00928"></a>00928             <span class="keywordflow">break</span>;
<a name="l00929"></a>00929         <span class="keywordflow">default</span>:
<a name="l00930"></a>00930             <span class="keywordflow">break</span>;
<a name="l00931"></a>00931     }
<a name="l00932"></a>00932 
<a name="l00933"></a>00933 }
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 - (void)goSectionTwo:(NSIndexPath *)indexPath
<a name="l00936"></a>00936 {
<a name="l00937"></a>00937     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication]delegate];
<a name="l00938"></a>00938     <span class="keywordflow">switch</span> (indexPath.row)
<a name="l00939"></a>00939     {
<a name="l00940"></a>00940         <span class="keywordflow">case</span> 0:
<a name="l00941"></a>00941         {
<a name="l00942"></a>00942 
<a name="l00943"></a>00943             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;favHotel&quot;];
<a name="l00944"></a>00944             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#ad55de7a50d28a7066d757ec331d56edc">sendSearchFavHotel</a>];
<a name="l00945"></a>00945             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_my_ctrip_fav_hotel_view_controller.html">CTMyCtripFavHotelViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l00946"></a>00946                 CTMyCtripFavHotelViewController *favHotel = (CTMyCtripFavHotelViewController *)goToPageObject;
<a name="l00947"></a>00947                 [favHotel reloadTableView];
<a name="l00948"></a>00948             } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l00949"></a>00949                 TLog(@&quot;失败了&quot;);
<a name="l00950"></a>00950             }];
<a name="l00951"></a>00951         }
<a name="l00952"></a>00952             <span class="keywordflow">break</span>;
<a name="l00953"></a>00953             
<a name="l00954"></a>00954         <span class="keywordflow">case</span> 1:
<a name="l00955"></a>00955         {
<a name="l00956"></a>00956             <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l00957"></a>00957             [delegate.userOperationCollector_  collectActionForNormal:@&quot;CTmyCtripRootViewController&quot; listener:@&quot;dest&quot;];
<a name="l00958"></a>00958             <span class="comment">//进入目的地收藏</span>
<a name="l00959"></a>00959             <a class="code" href="interface_c_t_my_dest_fav_view_controller.html">CTMyDestFavViewController</a> *vc = [[<a class="code" href="interface_c_t_my_dest_fav_view_controller.html">CTMyDestFavViewController</a> alloc] init];
<a name="l00960"></a>00960             [<span class="keyword">self</span>.ctripNavigationController pushCtripViewController:vc animated:YES];
<a name="l00961"></a>00961         }
<a name="l00962"></a>00962           <span class="keywordflow">break</span>;  
<a name="l00963"></a>00963         <span class="keywordflow">case</span> 2:
<a name="l00964"></a>00964         {
<a name="l00965"></a>00965             [delegate.userOperationCollector_ collectActionForNormal:NSStringFromClass(self.class) listener:@&quot;myGS&quot;];
<a name="l00966"></a>00966             
<a name="l00967"></a>00967             <a class="code" href="interface_c_t_my_destination_view_controller.html">CTMyDestinationViewController</a> *myDestionationVC = [[<a class="code" href="interface_c_t_my_destination_view_controller.html">CTMyDestinationViewController</a> alloc] init];
<a name="l00968"></a>00968             
<a name="l00969"></a>00969             [<span class="keyword">self</span>.navigationController pushViewController:myDestionationVC animated:YES];
<a name="l00970"></a>00970             
<a name="l00971"></a>00971         }
<a name="l00972"></a>00972             <span class="keywordflow">break</span>;
<a name="l00973"></a>00973         <span class="keywordflow">case</span> 3:
<a name="l00974"></a>00974         {
<a name="l00975"></a>00975             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;passageWidget&quot;];
<a name="l00976"></a>00976             <a class="code" href="interface_c_t_passenger_list_widget.html">CTPassengerListWidget</a>* widget = [<a class="code" href="interface_c_t_passenger_list_widget.html">CTPassengerListWidget</a> <a class="code" href="interface_c_t_title_bar_widget.html#a6868cf3f8c6fc7bb6fe72f10347360ad">widgetWithTitle</a>:@&quot;常用旅客&quot;] ;
<a name="l00977"></a>00977             widget.<a class="code" href="interface_c_t_title_bar_widget.html#a63f5de3377d2f4a1cffeafaf7680c2b0">collectAction</a> = <a class="code" href="_c_t_widget_config_8h.html#a4fd81a0fe56800775a9a05d0d27770cdaaa5ece8271dea5af2f016b1bb13fc17d">eCollectActionUserInfo</a> ;
<a name="l00978"></a>00978             widget.<a class="code" href="interface_c_t_person_list_widget.html#ac07178f530c38f609bfaba724f3211fd">certificateType</a> = <a class="code" href="_c_t_i_d_card_type_list_widget_8h.html#a7c361988a6c6aeb37975b076d392ed43aad4551feb37a40551a9c674d0544d9da">CTCertificateTypeMyCtrip</a> ;
<a name="l00979"></a>00979             
<a name="l00980"></a>00980             widget.<a class="code" href="interface_c_t_contact_list_widget.html#ac7c071fee7d107b8a41e36f87cbeff79">maxSelectedCount</a> = 0 ;
<a name="l00981"></a>00981             widget.<a class="code" href="interface_c_t_contact_list_widget.html#ab43a27b05c9b3e19968821b488420cb6">delegate</a> = (id)<span class="keyword">self</span> ;
<a name="l00982"></a>00982             widget.<a class="code" href="interface_c_t_person_list_widget.html#a10e4b2c7b69a650796632cca0d01dfe3">serviceAreaType</a> = <a class="code" href="_c_t_widget_config_8h.html#ab23f526abc4cd4443ccc010399693afda7fd952412241495db7b8f64e1bd2f2e5">eServiceAreaTypeMyCtrip</a> ;
<a name="l00983"></a>00983             [widget <a class="code" href="interface_c_t_title_bar_widget.html#a263fa6fa4d67489e51916d852006a30a">showInView</a>:self.view <a class="code" href="interface_c_t_title_bar_widget.html#a263fa6fa4d67489e51916d852006a30a">animation</a>:CTWidgetTransitionAnimationFrom_Right];
<a name="l00984"></a>00984    
<a name="l00985"></a>00985         }
<a name="l00986"></a>00986             <span class="keywordflow">break</span>;
<a name="l00987"></a>00987         <span class="keywordflow">case</span> 4:
<a name="l00988"></a>00988         {
<a name="l00989"></a>00989             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;addressWidget&quot;];
<a name="l00990"></a>00990             <a class="code" href="interface_c_t_address_list_widget.html">CTAddressListWidget</a>* widget = [<a class="code" href="interface_c_t_address_list_widget.html">CTAddressListWidget</a> <a class="code" href="interface_c_t_title_bar_widget.html#a6868cf3f8c6fc7bb6fe72f10347360ad">widgetWithTitle</a>:@&quot;常用地址管理&quot;] ;
<a name="l00991"></a>00991             widget.<a class="code" href="interface_c_t_title_bar_widget.html#a63f5de3377d2f4a1cffeafaf7680c2b0">collectAction</a> = <a class="code" href="_c_t_widget_config_8h.html#a4fd81a0fe56800775a9a05d0d27770cdaaa5ece8271dea5af2f016b1bb13fc17d">eCollectActionUserInfo</a> ;
<a name="l00992"></a>00992             widget.<a class="code" href="interface_c_t_contact_list_widget.html#ab43a27b05c9b3e19968821b488420cb6">delegate</a> = (id)<span class="keyword">self</span> ;
<a name="l00993"></a>00993             widget.<a class="code" href="interface_c_t_contact_list_widget.html#ac7c071fee7d107b8a41e36f87cbeff79">maxSelectedCount</a> = 0 ;
<a name="l00994"></a>00994             widget.<a class="code" href="interface_c_t_contact_list_widget.html#ac7c071fee7d107b8a41e36f87cbeff79">maxSelectedCount</a> =  0;
<a name="l00995"></a>00995             [widget <a class="code" href="interface_c_t_title_bar_widget.html#a263fa6fa4d67489e51916d852006a30a">showInView</a>:self.view <a class="code" href="interface_c_t_title_bar_widget.html#a263fa6fa4d67489e51916d852006a30a">animation</a>:CTWidgetTransitionAnimationFrom_Right] ;
<a name="l00996"></a>00996             
<a name="l00997"></a>00997         }
<a name="l00998"></a>00998             <span class="keywordflow">break</span>;
<a name="l00999"></a>00999         <span class="keywordflow">default</span>:
<a name="l01000"></a>01000             <span class="keywordflow">break</span>;
<a name="l01001"></a>01001     }
<a name="l01002"></a>01002 }
<a name="l01003"></a>01003 
<a name="l01004"></a>01004 - (void)goSectionThree:(NSIndexPath *)indexPath
<a name="l01005"></a>01005 {
<a name="l01006"></a>01006     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication]delegate];
<a name="l01007"></a>01007     <span class="keywordflow">switch</span> (indexPath.row)
<a name="l01008"></a>01008     {
<a name="l01009"></a>01009         <span class="keywordflow">case</span> 0:
<a name="l01010"></a>01010         {
<a name="l01011"></a>01011             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;cashAccountListener&quot;];
<a name="l01012"></a>01012             
<a name="l01013"></a>01013             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#a66e3024a6a37a635581557385273713a">sendCashSearch</a>:1];
<a name="l01014"></a>01014             <span class="comment">//编写服务失败的处理</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel mutexServiceTokenArray:nil isShowLoading:YES isShowCancel:NO isGoBackAfterCancel:YES isShowErrorInfo:YES cacheBean:nil saveParam:nil
<a name="l01015"></a>01015                                nextPageClass:[<a class="code" href="interface_c_t_my_ctrip_cash_account_view_controller.html">CTMyCtripCashAccountViewController</a> class]
<a name="l01016"></a>01016                                     animateType:eAnimateTypeControllerPush
<a name="l01017"></a>01017                     successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01018"></a>01018                         CTMyCtripCashAccountViewController *nextPage = (CTMyCtripCashAccountViewController *)goToPageObject;
<a name="l01019"></a>01019                         [nextPage showAccouneLabel];
<a name="l01020"></a>01020     
<a name="l01021"></a>01021                      } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l01022"></a>01022                             
<a name="l01023"></a>01023                      }];
<a name="l01024"></a>01024         }
<a name="l01025"></a>01025             <span class="keywordflow">break</span>;
<a name="l01026"></a>01026         <span class="keywordflow">case</span> 1:
<a name="l01027"></a>01027         {
<a name="l01028"></a>01028             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;ticketAccountListener&quot;];
<a name="l01029"></a>01029             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#a8ef17b648460931173467a3b82b15c3e">sendTravelTicketSearch</a>:1];
<a name="l01030"></a>01030             <span class="comment">//编写服务成功的处理</span><span class="comment">//编写服务失败的处理</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel mutexServiceTokenArray:nil isShowLoading:YES isShowCancel:NO isGoBackAfterCancel:YES isShowErrorInfo:YES cacheBean:nil saveParam:nil
<a name="l01031"></a>01031                           nextPageClass:[<a class="code" href="interface_c_t_my_ctrip_ticket_account_view_controller.html">CTMyCtripTicketAccountViewController</a> class]
<a name="l01032"></a>01032                             animateType:eAnimateTypeControllerPush
<a name="l01033"></a>01033                           successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01034"></a>01034                               
<a name="l01035"></a>01035                               
<a name="l01036"></a>01036                               CTMyCtripTicketAccountViewController *nextPage = (CTMyCtripTicketAccountViewController *)goToPageObject;
<a name="l01037"></a>01037                               [nextPage showAccouneLabel];
<a name="l01038"></a>01038                               
<a name="l01039"></a>01039                           } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l01040"></a>01040                               
<a name="l01041"></a>01041                           }];
<a name="l01042"></a>01042         }
<a name="l01043"></a>01043             <span class="keywordflow">break</span>;
<a name="l01044"></a>01044         <span class="keywordflow">default</span>:
<a name="l01045"></a>01045             <span class="keywordflow">break</span>;
<a name="l01046"></a>01046     }
<a name="l01047"></a>01047 }
<a name="l01048"></a>01048 
<a name="l01049"></a>01049 - (void)goSectionFour:(NSIndexPath *)indexPath
<a name="l01050"></a>01050 {
<a name="l01051"></a>01051     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication]delegate];
<a name="l01052"></a>01052     <span class="keywordflow">switch</span> (indexPath.row)
<a name="l01053"></a>01053     {
<a name="l01054"></a>01054         <span class="keywordflow">case</span> 0:
<a name="l01055"></a>01055         {
<a name="l01056"></a>01056 
<a name="l01057"></a>01057             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;lowPrice&quot;];            
<a name="l01058"></a>01058             <span class="comment">// 进入低价关注页</span>
<a name="l01059"></a>01059             <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a> *resultModel = [[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#a84694cfb3096de37836c69cf78459a80">sendLowPriceFocusList</a>];
<a name="l01060"></a>01060             [<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:nil nextPageClass:[<a class="code" href="interface_c_t_low_price_view_controller.html">CTLowPriceViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject)
<a name="l01061"></a>01061              {
<a name="l01062"></a>01062                  
<a name="l01063"></a>01063                  CTLowPriceViewController *lowPrice = (CTLowPriceViewController *)goToPageObject;
<a name="l01064"></a>01064                  lowPrice.navigationBar.rightBarButtonItem.enabled = YES;
<a name="l01065"></a>01065                  [lowPrice reloadTableView: [[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#a5c9602c379b83cd5bf4d9ba3a89632ae">getLocalLowPriceFocusList</a>]];
<a name="l01066"></a>01066                  if ([[<a class="code" href="interface_c_t_user_info_sender.html">CTUserInfoSender</a> <a class="code" href="interface_c_t_user_info_sender.html#a5f8751a2ed548b0f7734881dd8521e40">getInstance</a>] <a class="code" href="interface_c_t_user_info_sender.html#a5c9602c379b83cd5bf4d9ba3a89632ae">getLocalLowPriceFocusList</a>] != 0)
<a name="l01067"></a>01067                  {
<a name="l01068"></a>01068 
<a name="l01069"></a>01069                      lowPrice.tableView.tableFooterView = lowPrice.careView;
<a name="l01070"></a>01070                      
<a name="l01071"></a>01071                  }
<a name="l01072"></a>01072                  [lowPrice cleanDate];
<a name="l01073"></a>01073                  
<a name="l01074"></a>01074              } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject)
<a name="l01075"></a>01075              {
<a name="l01076"></a>01076                  CTLowPriceViewController *lowPrice = (CTLowPriceViewController *)goToPageObject;
<a name="l01077"></a>01077                  lowPrice.navigationBar.rightBarButtonItem.enabled = YES;
<a name="l01078"></a>01078                  TLog(@&quot;不好意思，处理失败了&quot;);
<a name="l01079"></a>01079              }];
<a name="l01080"></a>01080         }
<a name="l01081"></a>01081 
<a name="l01082"></a>01082             <span class="keywordflow">break</span>;
<a name="l01083"></a>01083         <span class="keywordflow">case</span> 1:
<a name="l01084"></a>01084         {
<a name="l01085"></a>01085             <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication]delegate];
<a name="l01086"></a>01086             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;fastOrder&quot;];
<a name="l01087"></a>01087             
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 
<a name="l01090"></a>01090         }
<a name="l01091"></a>01091 
<a name="l01092"></a>01092             <span class="keywordflow">break</span>;
<a name="l01093"></a>01093         <span class="keywordflow">default</span>:
<a name="l01094"></a>01094             <span class="keywordflow">break</span>;
<a name="l01095"></a>01095     }
<a name="l01096"></a>01096 }
<a name="l01097"></a>01097 
<a name="l01098"></a>01098 - (void)goSectionFive:(NSIndexPath *)indexPath
<a name="l01099"></a>01099 {
<a name="l01100"></a>01100     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication]delegate];
<a name="l01101"></a>01101     <span class="keywordflow">switch</span> (indexPath.row)
<a name="l01102"></a>01102     {
<a name="l01103"></a>01103         <span class="keywordflow">case</span> 0:
<a name="l01104"></a>01104         {
<a name="l01105"></a>01105             [delegate.userOperationCollector_ collectActionForNormal:@&quot;UserInfoViewController&quot; listener:@&quot;editPasswordListener&quot;];
<a name="l01106"></a>01106             <a class="code" href="interface_c_t_my_ctrip_edit_password_view_controller.html">CTMyCtripEditPasswordViewController</a> *editPasswordVC = [[<a class="code" href="interface_c_t_my_ctrip_edit_password_view_controller.html">CTMyCtripEditPasswordViewController</a> alloc] initWithNibName:@&quot;CTMyCtripEditPasswordViewController&quot; bundle:nil];
<a name="l01107"></a>01107             [<span class="keyword">self</span>.ctripNavigationController pushCtripViewController:editPasswordVC animated:YES];
<a name="l01108"></a>01108         }
<a name="l01109"></a>01109             <span class="keywordflow">break</span>;
<a name="l01110"></a>01110         <span class="keywordflow">case</span> 1:
<a name="l01111"></a>01111         {
<a name="l01112"></a>01112             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMoreContentViewController&quot; listener:@&quot;feedBackCell&quot;];
<a name="l01113"></a>01113             <a class="code" href="interface_c_t_feed_back_view_controller.html">CTFeedBackViewController</a> *feedBack = [[<a class="code" href="interface_c_t_feed_back_view_controller.html">CTFeedBackViewController</a> alloc]init];
<a name="l01114"></a>01114             [<span class="keyword">self</span>.ctripNavigationController pushCtripViewController:feedBack animated:YES];
<a name="l01115"></a>01115         }
<a name="l01116"></a>01116             <span class="keywordflow">break</span>;
<a name="l01117"></a>01117         <span class="keywordflow">case</span> 2:
<a name="l01118"></a>01118         {
<a name="l01119"></a>01119             [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripRootViewController&quot; listener:@&quot;moreContentListener&quot;];
<a name="l01120"></a>01120             <a class="code" href="interface_c_t_more_content_view_controller.html">CTMoreContentViewController</a> *moreVc = [[<a class="code" href="interface_c_t_more_content_view_controller.html">CTMoreContentViewController</a> alloc] initWithNibName:@&quot;CTMoreContentViewController&quot; bundle:nil];
<a name="l01121"></a>01121             [<span class="keyword">self</span>.ctripNavigationController pushCtripViewController:moreVc animated:YES];
<a name="l01122"></a>01122         }
<a name="l01123"></a>01123             <span class="keywordflow">break</span>;
<a name="l01124"></a>01124         <span class="keywordflow">default</span>:
<a name="l01125"></a>01125             <span class="keywordflow">break</span>;
<a name="l01126"></a>01126     }
<a name="l01127"></a>01127 }
<a name="l01128"></a>01128 
<a name="l01129"></a>01129 <span class="preprocessor">#pragma mark - -------非会员登陆回调函数---------------</span>
<a name="l01130"></a>01130 <span class="preprocessor"></span>-(void)afterNoMemberSuccess
<a name="l01131"></a>01131 {
<a name="l01132"></a>01132     
<a name="l01133"></a>01133     <span class="keywordflow">if</span> (<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#abf10c7585599d46a82593a4a41c4bc7f">midIndexPath</a> !=nil)
<a name="l01134"></a>01134     {
<a name="l01135"></a>01135         [<span class="keyword">self</span> tableView:self.tableView didSelectRowAtIndexPath:midIndexPath];
<a name="l01136"></a>01136 
<a name="l01137"></a>01137     }
<a name="l01138"></a>01138 }
<a name="l01139"></a>01139 
<a name="l01140"></a>01140 <span class="preprocessor">#pragma mark - -------会员登陆回调函数---------------</span>
<a name="l01141"></a>01141 <span class="preprocessor"></span>- (void)afterLoginSuccess
<a name="l01142"></a>01142 {
<a name="l01143"></a>01143     [<span class="keyword">self</span>.tableView reloadData];
<a name="l01144"></a>01144     
<a name="l01145"></a>01145     <span class="keywordflow">if</span> (<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#abf10c7585599d46a82593a4a41c4bc7f">midIndexPath</a> !=nil)
<a name="l01146"></a>01146     {
<a name="l01147"></a>01147         [<span class="keyword">self</span> tableView:self.tableView didSelectRowAtIndexPath:midIndexPath];
<a name="l01148"></a>01148 
<a name="l01149"></a>01149     }
<a name="l01150"></a>01150 }
<a name="l01151"></a>01151 
<a name="l01152"></a>01152 <span class="preprocessor">#pragma mark ------------子类方法重写--------------</span>
<a name="l01153"></a>01153 <span class="preprocessor"></span>- (void)customizeViewControllerBeforeAnimate:(<a class="code" href="interface_c_t_root_view_controller.html">CTRootViewController</a> *)viewController
<a name="l01154"></a>01154 {
<a name="l01155"></a>01155     <span class="keywordflow">if</span> ([viewController isKindOfClass:[<a class="code" href="interface_c_t_order_list_view_controller.html">CTOrderListViewController</a> <span class="keyword">class</span>]])
<a name="l01156"></a>01156     {
<a name="l01157"></a>01157         CTOrderListViewController* next = (CTOrderListViewController*)viewController;
<a name="l01158"></a>01158         next.<a class="code" href="interface_c_t_order_list_view_controller.html#a1a6b57a612618b0faed927752d637668">listEntrance</a> = <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#ab97dd1480878942874f99d89e3490de9">whereToGo</a>;
<a name="l01159"></a>01159     }
<a name="l01160"></a>01160 <span class="comment">//    else if ([viewController isKindOfClass:[CTMainHotelListViewController class]]) {</span>
<a name="l01161"></a>01161 <span class="comment">//        CTMainHotelListViewController *nextPage = (CTMainHotelListViewController *)viewController;</span>
<a name="l01162"></a>01162 <span class="comment">//        nextPage.goToNearby = NO;</span>
<a name="l01163"></a>01163 <span class="comment">//        viewController.mutexServicetoken = self.mutexServicetoken;</span>
<a name="l01164"></a>01164 <span class="comment">//    }</span>
<a name="l01165"></a>01165 }
<a name="l01166"></a>01166 
<a name="l01167"></a>01167 <span class="preprocessor">#pragma mark - --------------------代理方法--------------------</span>
<a name="l01168"></a>01168 <span class="preprocessor"></span><span class="preprocessor">#pragma mark CTContactListWidget Delegate</span>
<a name="l01169"></a>01169 <span class="preprocessor"></span>- (BOOL) contactListWidget:(<a class="code" href="interface_c_t_contact_list_widget.html">CTContactListWidget</a>*)widget checkNode:(<a class="code" href="interface_c_t_person_node.html">CTPersonNode</a>*)node alert:(BOOL)showAlert {
<a name="l01170"></a>01170     <a class="code" href="class_n_s_string.html">NSString</a>* message = nil ;
<a name="l01171"></a>01171     
<a name="l01172"></a>01172     <span class="comment">/*------------------名字判断------------------*/</span>
<a name="l01173"></a>01173     
<a name="l01174"></a>01174     <span class="comment">//全部为空</span>
<a name="l01175"></a>01175     <span class="keywordflow">if</span> (message.length==0 &amp;&amp; (node.<a class="code" href="interface_person_model.html#a52a9b284233587ef13f5d15c899ef4b0">nameCN</a>.length==0 &amp;&amp; node.<a class="code" href="interface_person_model.html#a4efb1c94db3368fa8f6668d0c8d4682a">nameEN</a>.length==0)) {
<a name="l01176"></a>01176         message = <span class="stringliteral">@&quot;中文姓名、英文姓名请至少填写一个&quot;</span> ;
<a name="l01177"></a>01177     }
<a name="l01178"></a>01178     
<a name="l01179"></a>01179     <span class="comment">//中文名字是否合法</span>
<a name="l01180"></a>01180     <span class="keywordflow">if</span> (message.length==0 &amp;&amp; node.<a class="code" href="interface_person_model.html#a52a9b284233587ef13f5d15c899ef4b0">nameCN</a>.length&gt;0) {
<a name="l01181"></a>01181         message = [node <a class="code" href="interface_c_t_person_node.html#a927445c05d4c11a7f145f98b9cfdbbdd">checkNameCN</a>] ;
<a name="l01182"></a>01182     }
<a name="l01183"></a>01183     
<a name="l01184"></a>01184     <span class="comment">//英文名是否合法</span>
<a name="l01185"></a>01185     <span class="keywordflow">if</span> (message.length==0 &amp;&amp; node.<a class="code" href="interface_person_model.html#a4efb1c94db3368fa8f6668d0c8d4682a">nameEN</a>.length&gt;0) {
<a name="l01186"></a>01186         message = [node <a class="code" href="interface_c_t_person_node.html#a02339930673326c381fdbcae50f4ed6e">checkNameEN</a>] ;
<a name="l01187"></a>01187     }
<a name="l01188"></a>01188 
<a name="l01189"></a>01189     <span class="comment">//若是身份证，先判断生日是不是对称</span>
<a name="l01190"></a>01190     <span class="keywordflow">if</span> (node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#aef6173e6443aed61d9a7f64fa00a1402">iDCardType</a>==1)
<a name="l01191"></a>01191     {<span class="comment">//身份证</span>
<a name="l01192"></a>01192         <span class="comment">//使用身份证必须是中文</span>
<a name="l01193"></a>01193         <span class="keywordflow">if</span> (node.<a class="code" href="interface_person_model.html#a52a9b284233587ef13f5d15c899ef4b0">nameCN</a>.length==0)
<a name="l01194"></a>01194         {
<a name="l01195"></a>01195             message = <span class="stringliteral">@&quot;使用身份证请填写中文姓名&quot;</span> ;
<a name="l01196"></a>01196         }
<a name="l01197"></a>01197         <span class="comment">//检测中文是否合法</span>
<a name="l01198"></a>01198         <span class="keywordflow">if</span>(message.length==0)
<a name="l01199"></a>01199         {
<a name="l01200"></a>01200             message = [<a class="code" href="interface_ctrip_validate_util.html">CtripValidateUtil</a> <a class="code" href="interface_ctrip_validate_util.html#ae1390b8bc5133d355bdc365aef619707">verifyNameCN</a>:node.nameCN <a class="code" href="interface_ctrip_validate_util.html#ae1390b8bc5133d355bdc365aef619707">isNotEmpty</a>:NO] ;
<a name="l01201"></a>01201         }
<a name="l01202"></a>01202         
<a name="l01203"></a>01203         <span class="comment">//身份证号</span>
<a name="l01204"></a>01204         <span class="keywordflow">if</span> (message.length==0 &amp;&amp; [<a class="code" href="interface_string_util.html">StringUtil</a> verifyID:node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#ab2b5169f81d3ec26d9c98b33e73fddf4">iDCardNo</a>]==NO)
<a name="l01205"></a>01205         {
<a name="l01206"></a>01206             message = <span class="stringliteral">@&quot;请填写正确的身份证号码&quot;</span> ;
<a name="l01207"></a>01207         }
<a name="l01208"></a>01208         
<a name="l01209"></a>01209         <span class="comment">//生日和身份证上的必须一样, 这里重新赋值，不拦截了</span>
<a name="l01210"></a>01210         <span class="keywordflow">if</span>(message.length==0 &amp;&amp; [[<a class="code" href="interface_ctrip_validate_util.html">CtripValidateUtil</a> getBirthdayFromIDCard:node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#ab2b5169f81d3ec26d9c98b33e73fddf4">iDCardNo</a>] isEqualToString:node.<a class="code" href="interface_person_model.html#aba913d984335b845bec9368d6fb166a1">birthday</a>]==NO)
<a name="l01211"></a>01211         {
<a name="l01212"></a>01212             node.<a class="code" href="interface_person_model.html#aba913d984335b845bec9368d6fb166a1">birthday</a> = [<a class="code" href="interface_ctrip_validate_util.html">CtripValidateUtil</a> <a class="code" href="interface_ctrip_validate_util.html#aa14920dc2207bc1ee857d378d7b5188a">getBirthdayFromIDCard</a>:node.iDCardChildModel.iDCardNo] ;
<a name="l01213"></a>01213         }
<a name="l01214"></a>01214         
<a name="l01215"></a>01215         <span class="comment">//性别和身份证上的必须一样, 这里重新赋值，不拦截了</span>
<a name="l01216"></a>01216         <span class="keywordflow">if</span>(message.length==0 &amp;&amp; [<a class="code" href="interface_ctrip_validate_util.html">CtripValidateUtil</a> getGenderFromIDCard:node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#ab2b5169f81d3ec26d9c98b33e73fddf4">iDCardNo</a>] != node.<a class="code" href="interface_person_model.html#a313b409d24829c97987d9eac562c2b6a">gender</a>)
<a name="l01217"></a>01217         {
<a name="l01218"></a>01218             node.<a class="code" href="interface_person_model.html#a313b409d24829c97987d9eac562c2b6a">gender</a> = [<a class="code" href="interface_ctrip_validate_util.html">CtripValidateUtil</a> <a class="code" href="interface_ctrip_validate_util.html#a6dd1784a3456504e484997ec47037c35">getGenderFromIDCard</a>:node.iDCardChildModel.iDCardNo] ;
<a name="l01219"></a>01219         }
<a name="l01220"></a>01220     }
<a name="l01221"></a>01221     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#aef6173e6443aed61d9a7f64fa00a1402">iDCardType</a>&gt;0)
<a name="l01222"></a>01222     {
<a name="l01223"></a>01223         <span class="keywordflow">if</span> (node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#ab2b5169f81d3ec26d9c98b33e73fddf4">iDCardNo</a>.length==0)
<a name="l01224"></a>01224         {
<a name="l01225"></a>01225             message = <span class="stringliteral">@&quot;请输入证件号码&quot;</span> ;
<a name="l01226"></a>01226         }
<a name="l01227"></a>01227         <span class="comment">/* 谢文贵邮件 这里又不需要做户口簿和出生证明25位的判断</span>
<a name="l01228"></a>01228 <span class="comment">        else if ((node.certificateType.integerValue==25 || node.certificateType.integerValue==27) &amp;&amp; node.iDCardChildModel.iDCardNo.length &gt; 25)</span>
<a name="l01229"></a>01229 <span class="comment">        {//户口薄与出生证明</span>
<a name="l01230"></a>01230 <span class="comment"></span>
<a name="l01231"></a>01231 <span class="comment">            message = @&quot;证件号码不能超过25位字符&quot;;</span>
<a name="l01232"></a>01232 <span class="comment">            </span>
<a name="l01233"></a>01233 <span class="comment">        }</span>
<a name="l01234"></a>01234 <span class="comment">        */</span>
<a name="l01235"></a>01235         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#ab2b5169f81d3ec26d9c98b33e73fddf4">iDCardNo</a>.length&gt;20)
<a name="l01236"></a>01236         {
<a name="l01237"></a>01237             message = [<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;证件号码不可多于20位&quot;] ;
<a name="l01238"></a>01238         }
<a name="l01239"></a>01239 
<a name="l01240"></a>01240     }
<a name="l01241"></a>01241 
<a name="l01242"></a>01242     <span class="keywordflow">else</span>
<a name="l01243"></a>01243     {
<a name="l01244"></a>01244      message = <span class="stringliteral">@&quot;无效的证件信息&quot;</span> ;
<a name="l01245"></a>01245     }
<a name="l01246"></a>01246     
<a name="l01263"></a>01263     <a class="code" href="class_n_s_string.html">NSString</a>* aNationality = [node.nationality uppercaseString] ;
<a name="l01264"></a>01264     <span class="comment">//    //台胞证只能台湾，台湾只能台胞证</span>
<a name="l01265"></a>01265     <span class="comment">//    if(message.length==0 &amp;&amp; (([aNationality isEqualToString:@&quot;TW&quot;] &amp;&amp; node.certificateType.intValue!=8)||([aNationality isEqualToString:@&quot;TW&quot;]==NO &amp;&amp; node.certificateType.intValue==8))) {</span>
<a name="l01266"></a>01266     <span class="comment">//        message = @&quot;台湾旅客请使用台胞证&quot; ;</span>
<a name="l01267"></a>01267     <span class="comment">//    }</span>
<a name="l01268"></a>01268     
<a name="l01275"></a>01275     <span class="comment">//台湾旅客才行使用台胞证</span>
<a name="l01276"></a>01276     <span class="keywordflow">if</span>(message.length==0 &amp;&amp; [aNationality isEqualToString:<span class="stringliteral">@&quot;TW&quot;</span>]==NO &amp;&amp; node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#aef6173e6443aed61d9a7f64fa00a1402">iDCardType</a>==8) {
<a name="l01277"></a>01277         message = <span class="stringliteral">@&quot;台湾旅客才能使用台胞证,请选择其它证件类型&quot;</span> ;
<a name="l01278"></a>01278     }
<a name="l01279"></a>01279     
<a name="l01280"></a>01280     <span class="comment">//回乡证只能是香港、澳门地区</span>
<a name="l01281"></a>01281     <span class="keywordflow">if</span> (message.length==0 &amp;&amp; node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#aef6173e6443aed61d9a7f64fa00a1402">iDCardType</a>==7) {
<a name="l01282"></a>01282         <span class="keywordflow">if</span> ([aNationality isEqualToString:<span class="stringliteral">@&quot;HK&quot;</span>]==NO &amp;&amp; [aNationality isEqualToString:<span class="stringliteral">@&quot;MO&quot;</span>]==NO) {
<a name="l01283"></a>01283             message = <span class="stringliteral">@&quot;香港、澳门旅客才能使用回乡证，请选择其他有效证件&quot;</span> ;
<a name="l01284"></a>01284         }
<a name="l01285"></a>01285     }
<a name="l01286"></a>01286     
<a name="l01302"></a>01302     <span class="comment">//此处验证年龄已满16岁，不允许使用户口簿</span>
<a name="l01303"></a>01303     <span class="keywordflow">if</span> (message.length==0 )
<a name="l01304"></a>01304     {
<a name="l01305"></a>01305         <a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a> yearBirthday = [node.birthday substringToIndexForCtrip:8].integerValue ;
<a name="l01306"></a>01306         <a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a> yearCurrent  = [[<a class="code" href="interface_date_util.html">DateUtil</a> <a class="code" href="interface_date_util.html#a71b1c914131c0460e27ff0442d8edb06">getCurrentDate</a>] substringToIndexForCtrip:8].integerValue ;
<a name="l01307"></a>01307     
<a name="l01308"></a>01308         <span class="keywordflow">if</span> (yearCurrent-yearBirthday&gt;160000&amp;&amp;node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#aef6173e6443aed61d9a7f64fa00a1402">iDCardType</a>==25)
<a name="l01309"></a>01309         {
<a name="l01310"></a>01310             message = <span class="stringliteral">@&quot;年龄已满16岁，不允许使用户口簿&quot;</span> ;
<a name="l01311"></a>01311         }
<a name="l01312"></a>01312         <span class="keywordflow">if</span> (yearCurrent-yearBirthday&gt;120000&amp;&amp;node.<a class="code" href="interface_person_model.html#adaa9613aff5119ece926a64cca67d9c7">iDCardChildModel</a>.<a class="code" href="interface_customer_i_d_card_operate_item_model.html#aef6173e6443aed61d9a7f64fa00a1402">iDCardType</a>==27)
<a name="l01313"></a>01313         {
<a name="l01314"></a>01314             message = <span class="stringliteral">@&quot;年龄已满12岁，不允许使用出生证明&quot;</span> ;
<a name="l01315"></a>01315         }
<a name="l01316"></a>01316     
<a name="l01317"></a>01317     }
<a name="l01318"></a>01318     
<a name="l01319"></a>01319     
<a name="l01320"></a>01320     <span class="comment">//其他逻辑(出生日期不能晚于今天)</span>
<a name="l01321"></a>01321     <span class="keywordflow">if</span> (message.length==0) {
<a name="l01322"></a>01322         NSDate* birthDate = [<a class="code" href="interface_date_util.html">DateUtil</a> <a class="code" href="interface_date_util.html#ac385e2876e551291aeb89d7296198bef">dateOfString</a>:node.birthday <a class="code" href="interface_date_util.html#ac385e2876e551291aeb89d7296198bef">dateFormat</a>:@&quot;yyyyMMdd&quot;] ;
<a name="l01323"></a>01323         <span class="keywordflow">if</span> (birthDate==nil) {
<a name="l01324"></a>01324             message = <span class="stringliteral">@&quot;请填写正确的出生日期&quot;</span> ;
<a name="l01325"></a>01325         } <span class="keywordflow">else</span> {
<a name="l01326"></a>01326             <a class="code" href="class_n_s_string.html">NSString</a>* current = [<a class="code" href="interface_date_util.html">DateUtil</a> <a class="code" href="interface_date_util.html#a71b1c914131c0460e27ff0442d8edb06">getCurrentDate</a>] ;
<a name="l01327"></a>01327             <span class="keywordflow">if</span> ([current isEqualToString:node.<a class="code" href="interface_person_model.html#aba913d984335b845bec9368d6fb166a1">birthday</a>]==NO) {
<a name="l01328"></a>01328                 NSDate* currentDate = [<a class="code" href="interface_date_util.html">DateUtil</a> <a class="code" href="interface_date_util.html#ac385e2876e551291aeb89d7296198bef">dateOfString</a>:current <a class="code" href="interface_date_util.html#ac385e2876e551291aeb89d7296198bef">dateFormat</a>:@&quot;yyyyMMdd&quot;] ;
<a name="l01329"></a>01329                 <span class="keywordflow">if</span> ([currentDate compare:birthDate]==NSOrderedAscending) {
<a name="l01330"></a>01330                     message = <span class="stringliteral">@&quot;请填写正确的出生日期&quot;</span> ;
<a name="l01331"></a>01331                 }
<a name="l01332"></a>01332             }
<a name="l01333"></a>01333         }
<a name="l01334"></a>01334     }
<a name="l01335"></a>01335     
<a name="l01336"></a>01336     <span class="keywordflow">if</span> (message.length&gt;0 &amp;&amp; showAlert) {
<a name="l01337"></a>01337         [<a class="code" href="interface_c_t_utils.html">CTUtils</a> <a class="code" href="interface_c_t_utils.html#a1803a5699019fb0cb356be95b046a2d0">messageBox</a>:@&quot;提示信息&quot; <a class="code" href="interface_c_t_utils.html#a1803a5699019fb0cb356be95b046a2d0">message</a>:message <a class="code" href="interface_c_t_utils.html#a1803a5699019fb0cb356be95b046a2d0">delegate</a>:nil <a class="code" href="interface_c_t_utils.html#a1803a5699019fb0cb356be95b046a2d0">buttonName</a>:@&quot;知道了&quot;];
<a name="l01338"></a>01338         <span class="keywordflow">return</span> NO;
<a name="l01339"></a>01339     }
<a name="l01340"></a>01340     <span class="keywordflow">return</span> YES ;
<a name="l01341"></a>01341 }
<a name="l01342"></a>01342 
<a name="l01343"></a>01343 
<a name="l01344"></a>01344 <span class="preprocessor">#pragma mark ------------------ 退出登录按钮的使用---------------</span>
<a name="l01345"></a><a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a584439ca113525fa2800d7cf35cd1a49">01345</a> <span class="preprocessor"></span>- (IBAction)pressLogOutBtn:(<span class="keywordtype">id</span>)sender
<a name="l01346"></a>01346 {
<a name="l01347"></a>01347     <span class="keyword">self</span>.midIndexPath = nil;
<a name="l01348"></a>01348     <span class="keywordflow">if</span>(<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a955a18275f144f4c4b9eb4caca16dfbb">isLoginSuccess_</a>&amp;&amp;<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a177f0580ebec4c0eeb9875e7b16aab2b">isMember_</a>)
<a name="l01349"></a>01349     {
<a name="l01350"></a>01350         <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01351"></a>01351         [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;logOutListener&quot;];    
<a name="l01352"></a>01352         <a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> *alertView = [[<a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> alloc] initWithTitle:@&quot;提示信息&quot; message:@&quot;您将退出此次登录，是否确定？&quot; delegate:self cancelButtonTitle:@&quot;点错了&quot; otherButtonTitles:@&quot;确认退出&quot;, nil];
<a name="l01353"></a>01353         [alertView show];
<a name="l01354"></a>01354     }
<a name="l01355"></a>01355     <span class="keywordflow">else</span>
<a name="l01356"></a>01356     {
<a name="l01357"></a>01357         <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01358"></a>01358         [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMyCtripViewController&quot; listener:@&quot;logOnListener&quot;];
<a name="l01359"></a>01359         <a class="code" href="interface_c_t_login_no_member_widget.html">CTLoginNoMemberWidget</a> *logInWidget = [<a class="code" href="interface_c_t_login_no_member_widget.html">CTLoginNoMemberWidget</a> <a class="code" href="interface_c_t_title_bar_widget.html#a6868cf3f8c6fc7bb6fe72f10347360ad">widgetWithTitle</a>:@&quot;会员登录&quot;] ;
<a name="l01360"></a>01360         logInWidget.<a class="code" href="interface_c_t_login_widget.html#afad646e321c4111ac794926a0597b7fb">delegate</a> = (id)<span class="keyword">self</span>;
<a name="l01361"></a>01361         logInWidget.<a class="code" href="interface_c_t_login_widget.html#a792b32e507c91cf8fad18fd513e257c5">delegateVC</a> = (id)<span class="keyword">self</span>;
<a name="l01362"></a>01362         [logInWidget <a class="code" href="interface_c_t_title_bar_widget.html#afc70c23d6a0464d25b15637103c974a4">showInView</a>:self.view] ;
<a name="l01363"></a>01363     }
<a name="l01364"></a>01364 }
<a name="l01365"></a>01365 
<a name="l01366"></a>01366 
<a name="l01367"></a>01367 <span class="preprocessor">#pragma mark ----------------接收内存警告信息--------------------</span>
<a name="l01368"></a>01368 <span class="preprocessor"></span>- (void)didReceiveMemoryWarning
<a name="l01369"></a>01369 {
<a name="l01370"></a>01370     [<span class="keyword">super</span> didReceiveMemoryWarning];
<a name="l01371"></a>01371 }
<a name="l01372"></a>01372 
<a name="l01373"></a>01373 - (void)alertView:(<a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> *)alertView willDismissWithButtonIndex:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)buttonIndex {
<a name="l01374"></a>01374     <span class="keywordflow">if</span> (alertView.tag == 8888) {
<a name="l01375"></a>01375         <span class="keywordflow">if</span> (buttonIndex == 1) {
<a name="l01376"></a>01376             <a class="code" href="class_n_s_string.html">NSString</a> *tel = [<a class="code" href="class_n_s_string.html">NSString</a> stringWithFormat:@&quot;tel://%@&quot;,__dataSource.telephoneNumber];
<a name="l01377"></a>01377             [[UIApplication sharedApplication] openURL:[NSURL URLWithString:tel]];
<a name="l01378"></a>01378         }
<a name="l01379"></a>01379     }
<a name="l01380"></a>01380     
<a name="l01381"></a>01381 }
<a name="l01382"></a>01382 - (void)alertView:(<a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> *)alertView clickedButtonAtIndex:(<a class="code" href="_c_t_r_i_p___w_i_r_e_l_e_s_s_2_c_t_r_i_p___w_i_r_e_l_e_s_s_2_class_2_extern_2_json_kit_2_j_s_o_n_kit_8h.html#a338fa36f57e0bd623377fa94e3c7c338">NSInteger</a>)buttonIndex
<a name="l01383"></a>01383 {
<a name="l01384"></a>01384     <span class="keywordflow">if</span> (alertView.tag == 8888) {
<a name="l01385"></a>01385         
<a name="l01386"></a>01386         [<span class="keyword">self</span>.ctripNavigationController popCtripViewControllerAnimated:YES];
<a name="l01387"></a>01387         <span class="keywordflow">return</span>;
<a name="l01388"></a>01388     }
<a name="l01389"></a>01389     <span class="keywordflow">if</span> (alertView.tag == 202) {
<a name="l01390"></a>01390         <span class="keywordflow">switch</span> (buttonIndex) {
<a name="l01391"></a>01391             <span class="keywordflow">case</span> 0:
<a name="l01392"></a>01392                 [<span class="keyword">self</span> showUnionPayWebView:NO];
<a name="l01393"></a>01393                 <span class="keywordflow">break</span>;
<a name="l01394"></a>01394             <span class="keywordflow">case</span> 1:
<a name="l01395"></a>01395             {
<a name="l01396"></a>01396                 <span class="keywordflow">if</span> (<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a6cb4e9ced06dd91a01091031208bb1b7">requestStr</a> != nil) {
<a name="l01397"></a>01397                     [<span class="keyword">self</span>.unionPayWebView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:self.requestStr]]];
<a name="l01398"></a>01398                 }
<a name="l01399"></a>01399             }
<a name="l01400"></a>01400                 <span class="keywordflow">break</span>;
<a name="l01401"></a>01401             <span class="keywordflow">default</span>:
<a name="l01402"></a>01402                 <span class="keywordflow">break</span>;
<a name="l01403"></a>01403         }
<a name="l01404"></a>01404         <span class="keywordflow">return</span>;
<a name="l01405"></a>01405     }
<a name="l01406"></a>01406     
<a name="l01407"></a>01407     <span class="keywordflow">if</span> (buttonIndex == 0) {
<a name="l01408"></a>01408         
<a name="l01409"></a>01409     }
<a name="l01410"></a>01410     <span class="keywordflow">if</span> (buttonIndex == 1) {
<a name="l01411"></a>01411         
<a name="l01412"></a>01412         <a class="code" href="interface_c_t_user_info_cache_bean.html">CTUserInfoCacheBean</a> *userCache = (<a class="code" href="interface_c_t_user_info_cache_bean.html">CTUserInfoCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a3e96fd00c88b0f01abd8daae80f9ff1b">FLAG_MyCtrip_CTUserInfoCacheBean</a>];
<a name="l01413"></a>01413         [userCache <a class="code" href="interface_c_t_user_info_cache_bean.html#aef1f6b1aa98b3aec468a83d8513325c2">logout</a>];
<a name="l01414"></a>01414         [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#aef99488cc77b46eab0a51b1c56e6bfd9">setUserSetting</a>:OPTION_IS_AUTO_LOGIN <a class="code" href="interface_sqlite_util.html#aef99488cc77b46eab0a51b1c56e6bfd9">OptionValue</a>:@&quot;T&quot;];
<a name="l01415"></a>01415         [<span class="keyword">self</span>.tableView reloadData];
<a name="l01416"></a>01416         
<a name="l01417"></a>01417         [[NSNotificationCenter defaultCenter] postNotificationName:MSG_CTrip_Logout_Success object:nil userInfo:nil];
<a name="l01418"></a>01418     }
<a name="l01419"></a>01419 }
<a name="l01420"></a>01420 
<a name="l01421"></a>01421 - (void)viewDidUnload {
<a name="l01422"></a>01422 
<a name="l01423"></a>01423     [<span class="keyword">self</span> setFootView:nil];
<a name="l01424"></a>01424     [<span class="keyword">self</span> setBannerView:nil];
<a name="l01425"></a>01425     [<span class="keyword">self</span> setNoMemberView:nil];
<a name="l01426"></a>01426     [<span class="keyword">self</span> setLogBtn:nil];
<a name="l01427"></a>01427     [<span class="keyword">super</span> viewDidUnload];
<a name="l01428"></a>01428 }
<a name="l01429"></a>01429 
<a name="l01430"></a>01430 
<a name="l01431"></a>01431 - (BOOL)isThereNewVersion{
<a name="l01432"></a>01432     <span class="keywordflow">if</span>( [<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#aacfc44dd50ced37ba017f364eab21a6c">version_</a> compare:<a class="code" href="_c_t_data_source_8h.html#aaa317298afa4c78ea85a20e35a6d6e33">__dataSource</a>.<a class="code" href="interface_c_t_data_source.html#a4d5c7be805b7262c4b457f040ff7a04f">serverVersion_</a>] == NSOrderedAscending ) {
<a name="l01433"></a>01433         <span class="keywordflow">return</span> YES;
<a name="l01434"></a>01434     }<span class="keywordflow">else</span>{
<a name="l01435"></a>01435         <span class="keywordflow">return</span> NO;
<a name="l01436"></a>01436     }
<a name="l01437"></a>01437 }
<a name="l01438"></a>01438 
<a name="l01439"></a>01439 
<a name="l01440"></a>01440 <span class="preprocessor">#pragma mark - UIWebViewDelegate</span>
<a name="l01441"></a>01441 <span class="preprocessor"></span>
<a name="l01442"></a>01442 - (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
<a name="l01443"></a>01443 {
<a name="l01444"></a>01444     
<a name="l01445"></a>01445     <a class="code" href="class_n_s_string.html">NSString</a>*  relativePath =  [request mainDocumentURL].relativePath;
<a name="l01446"></a>01446     <a class="code" href="class_n_s_array.html">NSArray</a> *array = [request.mainDocumentURL.absoluteString componentsSeparatedByString:@&quot;/&quot;];
<a name="l01447"></a>01447     <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;%@, %@,%@&quot;</span>, array, relativePath, request.mainDocumentURL.absoluteString);
<a name="l01448"></a>01448     <span class="keywordflow">if</span> ([array count] &lt; 1) {
<a name="l01449"></a>01449         <span class="keywordflow">return</span> NO;
<a name="l01450"></a>01450     }
<a name="l01451"></a>01451     <a class="code" href="class_n_s_string.html">NSString</a>*  path = [array objectAtIndex:[array count]-1];
<a name="l01452"></a>01452     
<a name="l01453"></a>01453     <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoFlightSearch&quot;</span>]) {
<a name="l01454"></a>01454         [<span class="keyword">self</span> goFlightSearch];
<a name="l01455"></a>01455         [<span class="keyword">self</span> showUnionPayWebView:NO];
<a name="l01456"></a>01456         <span class="keywordflow">return</span> NO;
<a name="l01457"></a>01457     }
<a name="l01458"></a>01458     
<a name="l01459"></a>01459     <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoBack&quot;</span>]) {
<a name="l01460"></a>01460         [<span class="keyword">self</span> showUnionPayWebView:NO];
<a name="l01461"></a>01461         <span class="keywordflow">return</span>  NO;
<a name="l01462"></a>01462     }
<a name="l01463"></a>01463     
<a name="l01464"></a>01464     BOOL re = [<span class="keyword">self</span> goToPageWithPath:path];
<a name="l01465"></a>01465     <span class="keywordflow">if</span> (!re) {
<a name="l01466"></a>01466         [<span class="keyword">self</span> showUnionPayWebView:NO];
<a name="l01467"></a>01467         <span class="keywordflow">return</span> NO;
<a name="l01468"></a>01468     }
<a name="l01469"></a>01469     
<a name="l01470"></a>01470     <span class="keywordflow">return</span> YES;
<a name="l01471"></a>01471 }
<a name="l01472"></a>01472 - (void)webViewDidStartLoad:(UIWebView *)webView
<a name="l01473"></a>01473 {
<a name="l01474"></a>01474     <span class="keywordflow">if</span>(<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.center.y &gt; <span class="keyword">self</span>.view.bounds.size.height)
<a name="l01475"></a>01475     {
<a name="l01476"></a>01476         [<span class="keyword">self</span> showUnionPayWebView:YES];
<a name="l01477"></a>01477     }
<a name="l01478"></a>01478 }
<a name="l01479"></a>01479 - (void)webViewDidFinishLoad:(UIWebView *)webView
<a name="l01480"></a>01480 {
<a name="l01481"></a>01481     <a class="code" href="class_n_s_string.html">NSString</a>*  title = [webView stringByEvaluatingJavaScriptFromString:@&quot;document.title&quot;];
<a name="l01482"></a>01482     title = [title lowercaseString];
<a name="l01483"></a>01483     <span class="keywordflow">if</span> ([title isEqualToString:<span class="stringliteral">@&quot;close&quot;</span>]) {
<a name="l01484"></a>01484         [<span class="keyword">self</span> showUnionPayWebView:NO];
<a name="l01485"></a>01485         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a> = NO;
<a name="l01486"></a>01486         [hiddenUnionPay removeFromSuperview];
<a name="l01487"></a>01487         <span class="keywordflow">return</span>;
<a name="l01488"></a>01488     }
<a name="l01489"></a>01489     <span class="keywordflow">if</span> (title.length != 0) {
<a name="l01490"></a>01490         <span class="keywordflow">if</span> (!<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a>) {
<a name="l01491"></a>01491             <a class="code" href="interface_c_t_alert_view.html">CTAlertView</a>* alertView = [[<a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> alloc] initWithTitle:@&quot;提示信息&quot; message:@&quot;页面加载错误&quot; delegate:self cancelButtonTitle:@&quot;取消&quot; otherButtonTitles:@&quot;重试&quot;, nil];
<a name="l01492"></a>01492             [alertView show];
<a name="l01493"></a>01493             <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;webViewDidFinishLoad&quot;</span>);
<a name="l01494"></a>01494         }
<a name="l01495"></a>01495         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a> = NO;
<a name="l01496"></a>01496         <span class="keywordflow">return</span>;
<a name="l01497"></a>01497     }
<a name="l01498"></a>01498     [hiddenUnionPay removeFromSuperview];
<a name="l01499"></a>01499 }
<a name="l01500"></a>01500 - (void)webView:(UIWebView *)webView didFailLoadWithError:(NSError *)error
<a name="l01501"></a>01501 {
<a name="l01502"></a>01502     <a class="code" href="class_n_s_string.html">NSString</a>*  title = [webView stringByEvaluatingJavaScriptFromString:@&quot;document.title&quot;];
<a name="l01503"></a>01503     title = [title lowercaseString];
<a name="l01504"></a>01504     <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;webError====%@, %@&quot;</span>, error, title);
<a name="l01505"></a>01505     
<a name="l01506"></a>01506     <span class="keywordflow">if</span> (!<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a> &amp;&amp; title.length != 0) {
<a name="l01507"></a>01507         <a class="code" href="interface_c_t_alert_view.html">CTAlertView</a>* alertView = [[<a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> alloc] initWithTitle:@&quot;提示信息&quot; message:@&quot;页面加载失败&quot; delegate:self cancelButtonTitle:@&quot;取消&quot; otherButtonTitles:@&quot;重试&quot;, nil];
<a name="l01508"></a>01508         alertView.tag = 202;
<a name="l01509"></a>01509         [alertView show];
<a name="l01510"></a>01510         <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;didFailLoadWithError&quot;</span>);
<a name="l01511"></a>01511     }
<a name="l01512"></a>01512     <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a> = NO;
<a name="l01513"></a>01513 }
<a name="l01514"></a>01514 <span class="preprocessor">#pragma mark - 显示隐藏银联webview</span>
<a name="l01515"></a>01515 <span class="preprocessor"></span>-(void)showUnionPayWebView:(BOOL) isShow
<a name="l01516"></a>01516 {
<a name="l01517"></a>01517     [UIView beginAnimations:nil context:nil];
<a name="l01518"></a>01518     [UIView setAnimationDelay:0.5];
<a name="l01519"></a>01519     <span class="keywordflow">if</span> (isShow) {
<a name="l01520"></a>01520         [unionPayWebView setFrame:CGRectMake(0, 0, [UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height-20)];
<a name="l01521"></a>01521         [unionPayWebView addSubview:hiddenUnionPay];
<a name="l01522"></a>01522         
<a name="l01523"></a>01523     }<span class="keywordflow">else</span>{
<a name="l01524"></a>01524         <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.center = CGPointMake(<span class="keyword">self</span>.<a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#afa64cb61588f73c580a7cd83b0c50789">unionPayWebView</a>.center.x, <span class="keyword">self</span>.unionPayWebView.center.y + [UIScreen mainScreen].bounds.size.height);
<a name="l01525"></a>01525     }
<a name="l01526"></a>01526     [UIView commitAnimations];
<a name="l01527"></a>01527 }
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 -(void) hiddenPayWebView
<a name="l01530"></a>01530 {
<a name="l01531"></a>01531     <a class="code" href="interface_c_t_my_ctrip_root_view_controller.html#a5c75a7633790a1a733010cedbbdc6b6b">isCancelUnionPayRequest</a> = YES;
<a name="l01532"></a>01532     [UIView animateWithDuration:0.5 animations:^{
<a name="l01533"></a>01533         unionPayWebView.center = CGPointMake(self.unionPayWebView.center.x, self.unionPayWebView.center.y + [UIScreen mainScreen].bounds.size.height);
<a name="l01534"></a>01534         [hiddenUnionPay  removeFromSuperview];
<a name="l01535"></a>01535     }];
<a name="l01536"></a>01536 }
<a name="l01537"></a>01537 
<a name="l01538"></a>01538 <span class="preprocessor">#pragma mark -----跳转界面功能函数-------------</span>
<a name="l01539"></a>01539 <span class="preprocessor"></span>
<a name="l01540"></a>01540 <span class="preprocessor">#pragma mark 统一处理跳转逻辑</span>
<a name="l01541"></a>01541 <span class="preprocessor"></span>-(BOOL) goToPageWithPath:(<a class="code" href="class_n_s_string.html">NSString</a>*) path
<a name="l01542"></a>01542 {
<a name="l01543"></a>01543     <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;%@&quot;</span>, path);
<a name="l01544"></a>01544     <a class="code" href="class_n_s_array.html">NSArray</a>* arr = [path componentsSeparatedByString:@&quot;#&quot;];
<a name="l01545"></a>01545     <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;%@&quot;</span>, arr);
<a name="l01546"></a>01546     <span class="keywordflow">if</span> ([arr count] == 1) {
<a name="l01547"></a>01547         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoHomePage&quot;</span>])
<a name="l01548"></a>01548         {
<a name="l01549"></a>01549             [<span class="keyword">self</span> goHomePage]; <span class="keywordflow">return</span> NO;
<a name="l01550"></a>01550         }
<a name="l01551"></a>01551         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoSecondHomePage&quot;</span>])
<a name="l01552"></a>01552         {
<a name="l01553"></a>01553             [<span class="keyword">self</span> goHomePage]; <span class="keywordflow">return</span> NO;
<a name="l01554"></a>01554         }
<a name="l01555"></a>01555         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoHotelSearch&quot;</span>])
<a name="l01556"></a>01556         {
<a name="l01557"></a>01557             [<span class="keyword">self</span> goHotelSearch]; <span class="keywordflow">return</span> NO;
<a name="l01558"></a>01558         }
<a name="l01559"></a>01559         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoNearbySearch&quot;</span>])
<a name="l01560"></a>01560         {
<a name="l01561"></a>01561             [<span class="keyword">self</span> goNearbySearch]; <span class="keywordflow">return</span> NO;
<a name="l01562"></a>01562         }
<a name="l01563"></a>01563         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoInternationalFlightSearch&quot;</span>])
<a name="l01564"></a>01564         {
<a name="l01565"></a>01565             [<span class="keyword">self</span> goInternationFlightSearch]; <span class="keywordflow">return</span> NO;
<a name="l01566"></a>01566         }
<a name="l01567"></a>01567         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoTrainSearch&quot;</span>])
<a name="l01568"></a>01568         {
<a name="l01569"></a>01569             [<span class="keyword">self</span> goTrainSearch]; <span class="keywordflow">return</span> NO;
<a name="l01570"></a>01570         }
<a name="l01571"></a>01571         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoSpeak&quot;</span>])
<a name="l01572"></a>01572         {
<a name="l01573"></a>01573             [<span class="keyword">self</span> goSpeak]; <span class="keywordflow">return</span> NO;
<a name="l01574"></a>01574         }
<a name="l01575"></a>01575         <span class="keywordflow">if</span> ([path isEqualToString:<span class="stringliteral">@&quot;GoHelp&quot;</span>]) {
<a name="l01576"></a>01576             [<span class="keyword">self</span> goHelp]; <span class="keywordflow">return</span> NO;
<a name="l01577"></a>01577         }
<a name="l01578"></a>01578     }<span class="keywordflow">else</span> <span class="keywordflow">if</span> ([arr count] == 2)
<a name="l01579"></a>01579     {
<a name="l01580"></a>01580         <a class="code" href="class_n_s_string.html">NSString</a>* name = [arr objectAtIndex:0];
<a name="l01581"></a>01581         <a class="code" href="class_n_s_string.html">NSString</a>* jsonString = [arr objectAtIndex:1];
<a name="l01582"></a>01582         jsonString = [jsonString stringByReplacingPercentEscapesUsingEncoding:NSASCIIStringEncoding];
<a name="l01583"></a>01583         <a class="code" href="class_n_s_dictionary.html">NSDictionary</a>* dic = [jsonString objectFromJSONString];
<a name="l01584"></a>01584         <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;name=%@, dic = %@,  %@&quot;</span>, name ,dic, jsonString);
<a name="l01585"></a>01585         <span class="keywordflow">if</span> ([name isEqualToString:<span class="stringliteral">@&quot;GoHotelList&quot;</span>]) {
<a name="l01586"></a>01586             [<span class="keyword">self</span> goHotelList:dic]; <span class="keywordflow">return</span> NO;
<a name="l01587"></a>01587         }
<a name="l01588"></a>01588         <span class="keywordflow">if</span>([name  isEqualToString:<span class="stringliteral">@&quot;GoHotelDetial&quot;</span>]){
<a name="l01589"></a>01589             [<span class="keyword">self</span> goHotelDetail:dic]; <span class="keywordflow">return</span> NO;
<a name="l01590"></a>01590         }
<a name="l01591"></a>01591         <span class="keywordflow">if</span> ([name isEqualToString:<span class="stringliteral">@&quot;GoFlightList&quot;</span>]) {
<a name="l01592"></a>01592             [<span class="keyword">self</span> goFlightList:dic]; <span class="keywordflow">return</span> NO;
<a name="l01593"></a>01593         }
<a name="l01594"></a>01594         <span class="keywordflow">if</span> ([name isEqualToString:<span class="stringliteral">@&quot;GoInternationalFlightList&quot;</span>]) {
<a name="l01595"></a>01595             [<span class="keyword">self</span> goInternationFlightList:dic]; <span class="keywordflow">return</span> NO;
<a name="l01596"></a>01596         }
<a name="l01597"></a>01597         <span class="keywordflow">if</span> ([name isEqualToString:<span class="stringliteral">@&quot;GoTrainList&quot;</span>]) {
<a name="l01598"></a>01598             [<span class="keyword">self</span> goTrainList:dic]; <span class="keywordflow">return</span> NO;
<a name="l01599"></a>01599         }
<a name="l01600"></a>01600         <span class="keywordflow">if</span> ([name isEqualToString:<span class="stringliteral">@&quot;GoFlightMessageDetial&quot;</span>]) {
<a name="l01601"></a>01601             [<span class="keyword">self</span> goFlightMessageDetial:dic]; <span class="keywordflow">return</span> NO;
<a name="l01602"></a>01602         }
<a name="l01603"></a>01603     }
<a name="l01604"></a>01604     
<a name="l01605"></a>01605     <span class="keywordflow">return</span> YES;
<a name="l01606"></a>01606 }
<a name="l01607"></a>01607 <span class="preprocessor">#pragma mark 跳转到首页第一屏</span>
<a name="l01608"></a>01608 <span class="preprocessor"></span>-(void) goHomePage
<a name="l01609"></a>01609 {
<a name="l01610"></a>01610     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01611"></a>01611     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01612"></a>01612     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoHomePage&quot; description:actionMd5];
<a name="l01613"></a>01613     [<span class="keyword">self</span>.ctripNavigationController popCtripViewControllerAnimated:YES];
<a name="l01614"></a>01614 }
<a name="l01615"></a>01615 
<a name="l01616"></a>01616 <span class="preprocessor">#pragma mark 跳转到机票查询界面</span>
<a name="l01617"></a>01617 <span class="preprocessor"></span>-(void) goFlightSearch
<a name="l01618"></a>01618 {
<a name="l01619"></a>01619     <a class="code" href="config_8h.html#a87a6a03e2e58c9a02cb1d97490b4cb8a">TLog</a>(<span class="stringliteral">@&quot;GoFlightSearch&quot;</span>);
<a name="l01620"></a>01620     <span class="comment">//TODO:</span>
<a name="l01621"></a>01621     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01622"></a>01622     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01623"></a>01623 
<a name="l01624"></a>01624     <a class="code" href="interface_c_t_flight_search_view_controller.html">CTFlightSearchViewController</a> *flightMainVC = [[<a class="code" href="interface_c_t_flight_search_view_controller.html">CTFlightSearchViewController</a> alloc]init];
<a name="l01625"></a>01625     [<span class="keyword">self</span>.ctripNavigationController pushCtripViewController:flightMainVC animated:YES];
<a name="l01626"></a>01626     flightMainVC.<a class="code" href="interface_c_t_flight_search_view_controller.html#a9706d86447ba381d04e025768cfa240a">segmentInlandOrInternational</a>.<a class="code" href="interface_c_t_segment_control.html#a1169aa2f7d10eabdadd71737c7b8351e">selectedSegmentIndex</a> = 0;
<a name="l01627"></a>01627     flightMainVC.<a class="code" href="interface_c_t_flight_search_view_controller.html#a676118c1d2df364e53841eb5a7049d13">controllerInlandFlightSearch</a>.view.hidden = NO;
<a name="l01628"></a>01628     
<a name="l01629"></a>01629     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01630"></a>01630     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoFlightSearch&quot; description:actionMd5];
<a name="l01631"></a>01631 }
<a name="l01632"></a>01632 <span class="preprocessor">#pragma mark 跳转到机票列表</span>
<a name="l01633"></a>01633 <span class="preprocessor"></span>-(void)goFlightList:(<a class="code" href="class_n_s_dictionary.html">NSDictionary</a>* ) dic
<a name="l01634"></a>01634 {
<a name="l01635"></a>01635     <a class="code" href="class_n_s_string.html">NSString</a>*  departure = [dic objectForKey:@&quot;departureCityId&quot;];<span class="comment">//出发城市id</span>
<a name="l01636"></a>01636     <a class="code" href="class_n_s_string.html">NSString</a>*  reach = [dic objectForKey:@&quot;reachCityId&quot;];<span class="comment">//到达城市ID</span>
<a name="l01637"></a>01637     <a class="code" href="class_n_s_string.html">NSString</a>*  outDate = [dic objectForKey:@&quot;outDate&quot;];<span class="comment">//出发日期</span>
<a name="l01638"></a>01638     <a class="code" href="class_n_s_string.html">NSString</a>*  backDate = [dic objectForKey:@&quot;backDate&quot;];<span class="comment">//返程日期</span>
<a name="l01639"></a>01639     backDate = [backDate stringByReplacingOccurrencesOfString:@&quot; &quot; withString:@&quot;&quot;];
<a name="l01640"></a>01640     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01641"></a>01641     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01642"></a>01642     
<a name="l01643"></a>01643     <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557">__ENUM_BUSINESS_TRIPTYPE</a> type = <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557af5ab23abbe9e30135ccf0fb35caeade3">BUSINESS_TRIPTYPE_OW</a>;
<a name="l01644"></a>01644     <span class="keywordflow">if</span> (backDate.length&gt;0) {
<a name="l01645"></a>01645         type = <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557afb17cc4e26c60b49bf11ff12cc839186">BUSINESS_TRIPTYPE_RT</a>;
<a name="l01646"></a>01646         <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01647"></a>01647         [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoFlightListReturn&quot; description:actionMd5];
<a name="l01648"></a>01648     }<span class="keywordflow">else</span>{
<a name="l01649"></a>01649         <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01650"></a>01650         [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoFlightList&quot; description:actionMd5];
<a name="l01651"></a>01651     }
<a name="l01652"></a>01652     
<a name="l01653"></a>01653     <a class="code" href="interface_city_model.html">CityModel</a>* departModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#ac9aab327d7ad95033382ae7eeda0963b">getFilightCityById</a>:departure];
<a name="l01654"></a>01654     <a class="code" href="interface_city_model.html">CityModel</a>*  reachModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#ac9aab327d7ad95033382ae7eeda0963b">getFilightCityById</a>:reach];
<a name="l01655"></a>01655     
<a name="l01656"></a>01656     <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a>* resultModel = [[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#ac9650f6482db95e10931099ac75b4df7">sendFlightSearchGoTripByDepartCityCode</a>:departModel.code <a class="code" href="interface_c_t_home_sender.html#ac9650f6482db95e10931099ac75b4df7">ArriveCityCode</a>:reachModel.code <a class="code" href="interface_c_t_home_sender.html#ac9650f6482db95e10931099ac75b4df7">DepartDate</a>:outDate <a class="code" href="interface_c_t_home_sender.html#ac9650f6482db95e10931099ac75b4df7">TripType</a>:type];
<a name="l01657"></a>01657     <a class="code" href="interface_c_t_flight_list_cache_bean.html">CTFlightListCacheBean</a>* FlightListCacheBean = (<a class="code" href="interface_c_t_flight_list_cache_bean.html">CTFlightListCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4acb49113304c947b979ee30c2c45ece16">FLAG_Flight_CTFlightListCacheBean</a>];
<a name="l01658"></a>01658     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a16a781d58dc59093ca231503b3f0da32">tripType</a> = type;
<a name="l01659"></a>01659     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#ac6f87787a35c69dd220b09cb90e870cd">modelFromCity</a> = departModel;
<a name="l01660"></a>01660     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a83118e1a93cb0433282f17c9922d0240">modelToCity</a> = reachModel;
<a name="l01661"></a>01661     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a4815566fbd08f065fab13a5cf5d218d7">strBeginDate</a> = outDate;
<a name="l01662"></a>01662     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a377b01650a828ae64448409d44a23322">strReturnDate</a> = backDate;
<a name="l01663"></a>01663     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a4e6b379613e0e9df5a5eddab519b1d84">fliterGoAirticket</a>.<a class="code" href="interface_c_t_filter_airticket.html#a4040627e1eea3abd8957ac5c570b1bf4">departCityCode</a> = FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#ac6f87787a35c69dd220b09cb90e870cd">modelFromCity</a>.<a class="code" href="interface_city_model.html#a0d72f7eb48c79aa95b866c86ed811455">code</a>;
<a name="l01664"></a>01664     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a4e6b379613e0e9df5a5eddab519b1d84">fliterGoAirticket</a>.<a class="code" href="interface_c_t_filter_airticket.html#a660f06fc548cd4eb864a07a2e594b32e">arriveCityCode</a> = FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a83118e1a93cb0433282f17c9922d0240">modelToCity</a>.<a class="code" href="interface_city_model.html#a0d72f7eb48c79aa95b866c86ed811455">code</a>;
<a name="l01665"></a>01665     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a9875f27b1b8486408f4f8af8eae5fe44">fliterReturnAirticket</a>.<a class="code" href="interface_c_t_filter_airticket.html#a4040627e1eea3abd8957ac5c570b1bf4">departCityCode</a> = FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a83118e1a93cb0433282f17c9922d0240">modelToCity</a>.<a class="code" href="interface_city_model.html#a0d72f7eb48c79aa95b866c86ed811455">code</a>;
<a name="l01666"></a>01666     FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#a9875f27b1b8486408f4f8af8eae5fe44">fliterReturnAirticket</a>.<a class="code" href="interface_c_t_filter_airticket.html#a660f06fc548cd4eb864a07a2e594b32e">arriveCityCode</a> = FlightListCacheBean.<a class="code" href="interface_c_t_flight_list_cache_bean.html#ac6f87787a35c69dd220b09cb90e870cd">modelFromCity</a>.<a class="code" href="interface_city_model.html#a0d72f7eb48c79aa95b866c86ed811455">code</a>;
<a name="l01667"></a>01667     
<a name="l01668"></a>01668     <span class="keywordflow">if</span> (type == <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557af5ab23abbe9e30135ccf0fb35caeade3">BUSINESS_TRIPTYPE_OW</a>) {
<a name="l01669"></a>01669         
<a name="l01670"></a>01670         <span class="comment">//发送低价服务</span><span class="comment">//失败逻辑标示在这里处理</span><span class="comment">//                inlandListController.errorMessage = errorInformation;</span><span class="comment">//@&quot;&quot;;//</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel mutexServiceTokenArray:nil isShowLoading:YES isShowCancel:YES isGoBackAfterCancel:YES isShowErrorInfo:NO  cacheBean:nil saveParam:@&quot;&quot; nextPageClass:[<a class="code" href="interface_c_t_inland_flight_list_view_controller.html">CTInlandFlightListViewController</a> class] animateType:eAnimateTypeControllerPush successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01671"></a>01671             CTInlandFlightListViewController *inlandListController = (CTInlandFlightListViewController *)goToPageObject;
<a name="l01672"></a>01672             [inlandListController refreshCarefullChosenFlightList] ;
<a name="l01673"></a>01673             [inlandListController setViewByCache];
<a name="l01674"></a>01674             inlandListController.mutexServicetoken = nil;
<a name="l01675"></a>01675             
<a name="l01676"></a>01676             
<a name="l01677"></a>01677             [inlandListController drawAlert];
<a name="l01678"></a>01678             [inlandListController searchInland90LowPriceFlightList];
<a name="l01679"></a>01679             
<a name="l01680"></a>01680         } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l01681"></a>01681             TLog(@&quot;CTFlightInquireSender gotoFlightInquireList failed&quot;);
<a name="l01682"></a>01682             CTInlandFlightListViewController *inlandListController = (CTInlandFlightListViewController *)goToPageObject;
<a name="l01683"></a>01683             
<a name="l01684"></a>01684                         inlandListController.myErrorCode = errorCode;
<a name="l01685"></a>01685             if (errorCode ==  ERROR_FROM_SERVER_COMMON) {
<a name="l01686"></a>01686                 
<a name="l01687"></a>01687                 [<span class="keyword">self</span> showErrorInfoWithMessage:errorInformation];
<a name="l01688"></a>01688                 inlandListController.errorMessage = @&quot;出错啦，请您稍后重试。&quot;;
<a name="l01689"></a>01689             }
<a name="l01690"></a>01690             else {
<a name="l01691"></a>01691                 inlandListController.errorMessage = errorInformation;
<a name="l01692"></a>01692             }
<a name="l01693"></a>01693             
<a name="l01694"></a>01694             [inlandListController setFailDisplay:YES emunNetWork:eCTINLAND_FLIGHT_LIST_DISPLAY_STATUS_NETWORK];
<a name="l01695"></a>01695             inlandListController.mutexServicetoken = nil;
<a name="l01696"></a>01696         }];
<a name="l01697"></a>01697     }<span class="keywordflow">else</span>{
<a name="l01698"></a>01698         <span class="comment">//            [SqliteUtil updateUserInfo:__dataSource.userID_ cachebean:@&quot;CTFlightInquireCacheBean&quot; itemKey:@&quot;modelFromCity&quot; itemValue:departModel.name];</span><span class="comment">//            [SqliteUtil updateUserInfo:__dataSource.userID_ cachebean:@&quot;CTFlightInquireCacheBean&quot; itemKey:@&quot;modelToCity&quot; itemValue:reachModel.name];</span><span class="comment">//失败逻辑标示在这里处理</span><span class="comment">//                inlandListController.errorMessage = errorInformation;</span><span class="comment">//@&quot;&quot;;//</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel mutexServiceTokenArray:nil isShowLoading:YES isShowCancel:YES isGoBackAfterCancel:YES isShowErrorInfo:NO  cacheBean:nil saveParam:@&quot;&quot; nextPageClass:[<a class="code" href="interface_c_t_inland_flight_list_go_view_controller.html">CTInlandFlightListGoViewController</a> class] animateType:eAnimateTypeControllerPush successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01699"></a>01699             
<a name="l01700"></a>01700             CTInlandFlightListGoViewController *inlandListController = (CTInlandFlightListGoViewController *)goToPageObject;
<a name="l01701"></a>01701             inlandListController.cache.flightInforItemList = inlandListController.cache.flightInforItemListBack;
<a name="l01702"></a>01702             [inlandListController refreshCarefullChosenFlightList] ;
<a name="l01703"></a>01703             [inlandListController setViewByCache];
<a name="l01704"></a>01704             inlandListController.mutexServicetoken = nil;
<a name="l01705"></a>01705             
<a name="l01706"></a>01706             [inlandListController drawAlert];
<a name="l01707"></a>01707             [inlandListController searchInland90LowPriceFlightList];
<a name="l01708"></a>01708 
<a name="l01709"></a>01709 
<a name="l01710"></a>01710             
<a name="l01711"></a>01711         } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l01712"></a>01712             TLog(@&quot;CTFlightInquireSender gotoFlightInquireList failed&quot;);
<a name="l01713"></a>01713             CTInlandFlightListGoViewController *inlandListController = (CTInlandFlightListGoViewController *)goToPageObject;
<a name="l01714"></a>01714             inlandListController.mutexServicetoken = nil;
<a name="l01715"></a>01715             
<a name="l01716"></a>01716                         inlandListController.myErrorCode = errorCode;
<a name="l01717"></a>01717             if (errorCode ==  ERROR_FROM_SERVER_COMMON) {
<a name="l01718"></a>01718                 
<a name="l01719"></a>01719                 [<span class="keyword">self</span> showErrorInfoWithMessage:errorInformation];
<a name="l01720"></a>01720                 inlandListController.errorMessage = @&quot;出错啦，请您稍后重试。&quot;;
<a name="l01721"></a>01721             }
<a name="l01722"></a>01722             else {
<a name="l01723"></a>01723                 inlandListController.errorMessage = errorInformation;
<a name="l01724"></a>01724             }
<a name="l01725"></a>01725             
<a name="l01726"></a>01726             
<a name="l01727"></a>01727             [inlandListController setFailDisplay:YES emunNetWork:eCTINLAND_FLIGHT_LIST_DISPLAY_STATUS_NETWORK];
<a name="l01728"></a>01728         }];
<a name="l01729"></a>01729     }
<a name="l01730"></a>01730     
<a name="l01731"></a>01731 }
<a name="l01732"></a>01732 
<a name="l01733"></a>01733 
<a name="l01734"></a>01734 <span class="preprocessor">#pragma mark 跳转到酒店查询</span>
<a name="l01735"></a>01735 <span class="preprocessor"></span>-(void) goHotelSearch
<a name="l01736"></a>01736 {
<a name="l01737"></a>01737     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01738"></a>01738     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01739"></a>01739     <a class="code" href="interface_c_t_home_page_view_controller.html">CTHomePageViewController</a> *homeController = delegate.<a class="code" href="interface_app_delegate.html#af14e3f0b6302ca6d4735610c3f696782">rootViewController</a>;
<a name="l01740"></a>01740     <a class="code" href="interface_c_t_hotel_view_controller.html">CTHotelViewController</a> *hotelMainVC = [[<a class="code" href="interface_c_t_hotel_view_controller.html">CTHotelViewController</a> alloc]init];
<a name="l01741"></a>01741     
<a name="l01742"></a>01742     [homeController.ctripNavigationController pushCtripViewController:hotelMainVC animated:YES];
<a name="l01743"></a>01743     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01744"></a>01744     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoHotelSearch&quot; description:actionMd5];
<a name="l01745"></a>01745 }
<a name="l01746"></a>01746 
<a name="l01747"></a>01747 <span class="preprocessor">#pragma mark 跳转到酒店列表</span>
<a name="l01748"></a>01748 <span class="preprocessor"></span>-(void)goHotelList:(<a class="code" href="class_n_s_dictionary.html">NSDictionary</a>*) dic
<a name="l01749"></a>01749 {
<a name="l01750"></a>01750 <span class="comment">//    int cityId = [[dic objectForKey:@&quot;cityId&quot;] integerValue]; //城市id</span>
<a name="l01751"></a>01751     <a class="code" href="class_n_s_string.html">NSString</a>* inDate = [dic objectForKey:@&quot;inDate&quot;];<span class="comment">//入住日期</span>
<a name="l01752"></a>01752     <a class="code" href="class_n_s_string.html">NSString</a>* outDate = [dic objectForKey:@&quot;outDate&quot;];<span class="comment">//离店日期</span>
<a name="l01753"></a>01753     
<a name="l01754"></a>01754 <span class="comment">//    CityModel* cModel = [SqliteUtil getHotelCityByID:[dic objectForKey:@&quot;cityId&quot;]];</span>
<a name="l01755"></a>01755     <a class="code" href="interface_city_model.html">CityModel</a>* cModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#ac56655cad26551ffac098f6ead7c46c9">isCtripHotelCityModelByCityid</a>:[dic objectForKey:@&quot;cityId&quot;]];
<a name="l01756"></a>01756 
<a name="l01757"></a>01757     <span class="keywordflow">if</span> (cModel == nil)
<a name="l01758"></a>01758     {
<a name="l01759"></a>01759         cModel = [[<a class="code" href="interface_city_model.html">CityModel</a> alloc] init];
<a name="l01760"></a>01760         cModel.<a class="code" href="interface_city_model.html#a6f22ae475b32b7881c9c2f262a396c29">cityId</a> = [dic objectForKey:@&quot;cityId&quot;];
<a name="l01761"></a>01761         cModel.<a class="code" href="interface_city_model.html#af57fd876f641bd9a62606645217c1c4e">districtId</a> = -1;
<a name="l01762"></a>01762         cModel.<a class="code" href="interface_city_model.html#a3caa6b0b41a5af441887861dd46fcac1">countryId</a> = 0;
<a name="l01763"></a>01763     }
<a name="l01764"></a>01764 
<a name="l01765"></a>01765     <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a>* resultModel = [[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#a2e5f0a9aad1e69d09c9c3ffa32358472">sendSearchHotelListWithCityModel</a>:cModel <a class="code" href="interface_c_t_home_sender.html#a2e5f0a9aad1e69d09c9c3ffa32358472">checkInDate</a>:inDate <a class="code" href="interface_c_t_home_sender.html#a2e5f0a9aad1e69d09c9c3ffa32358472">checkOutDate</a>:outDate];
<a name="l01766"></a>01766     
<a name="l01767"></a>01767     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01768"></a>01768     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01769"></a>01769     
<a name="l01770"></a>01770     <a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html">CTInlandHotelListCacheBean</a>*  inlandCacheBean = (<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html">CTInlandHotelListCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a373f0439c873b4cefa0b56c00e820fd4">FLAG_Hotel_CTInlandHotelListCacheBean</a>];
<a name="l01771"></a>01771     <a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html">CTOverseasHotelListCacheBean</a>*  overseasCacheBean = (<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html">CTOverseasHotelListCacheBean</a>*)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4ac4ffd4f5a79abafad3ea996f9aa10689">FLAG_OverseasHotel_CTOverseasHotelListCacheBean</a>];
<a name="l01772"></a>01772     
<a name="l01773"></a>01773     <a class="code" href="interface_c_t_hotel_main_filter_model.html">CTHotelMainFilterModel</a>* filterModel = [[<a class="code" href="interface_c_t_hotel_main_filter_model.html">CTHotelMainFilterModel</a> alloc] init];
<a name="l01774"></a>01774     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a3c055a826ffd365e8a6a4457e08e6608">hotelType</a> = <a class="code" href="_c_t_config_8h.html#a8086ef19d50da1bab8c3583337e34cb2a5b272a49ca779f76755eac1e0f7e04d3">eHotelTypeInland</a>;
<a name="l01775"></a>01775     <span class="keywordflow">if</span> (cModel.<a class="code" href="interface_city_model.html#a3caa6b0b41a5af441887861dd46fcac1">countryId</a> &gt; 1)
<a name="l01776"></a>01776     {
<a name="l01777"></a>01777         inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a3c055a826ffd365e8a6a4457e08e6608">hotelType</a> = <a class="code" href="_c_t_config_8h.html#a8086ef19d50da1bab8c3583337e34cb2a59edfa2fbe3f72e741e096aeaaf341b3">eHotelTypeOverseas</a>;
<a name="l01778"></a>01778     }
<a name="l01779"></a>01779     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#aa826690782b50b6082f62ca6cefaf198">latitude</a> = cModel.<a class="code" href="interface_city_model.html#ac7cceec55d86016b82f2ef91adec190e">latitude</a>;
<a name="l01780"></a>01780     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#abce3467bc5198673bc2c214acf9c16df">longitude</a> = cModel.<a class="code" href="interface_city_model.html#a8621129d59068ae4d728e55ffbda655b">longitude</a>;
<a name="l01781"></a>01781     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a8cdd96f39f971ec995c5ef9dea4fba3c">cityModel</a> = cModel;
<a name="l01782"></a>01782     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a6ac6198be10d17e4eb9d06f24f11df5c">checkOutDate</a> = outDate;
<a name="l01783"></a>01783     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a0dadff4b5d1c6c4870b3638833979093">checkInDate</a> = inDate;
<a name="l01784"></a>01784     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a597035d03d8055366a22a96c8b4e5831">filterModel</a> = filterModel;
<a name="l01785"></a>01785     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#a6ca71a9555ac14cc2f4509388168c649">chooseNumber</a> = 0;
<a name="l01786"></a>01786     
<a name="l01787"></a>01787     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a8663e3cd51ab8b3ad44b1832338a7849">hotelType</a> = <a class="code" href="_c_t_config_8h.html#a8086ef19d50da1bab8c3583337e34cb2a5b272a49ca779f76755eac1e0f7e04d3">eHotelTypeInland</a>;
<a name="l01788"></a>01788     <span class="keywordflow">if</span> (cModel.<a class="code" href="interface_city_model.html#a3caa6b0b41a5af441887861dd46fcac1">countryId</a> &gt; 1)
<a name="l01789"></a>01789     {
<a name="l01790"></a>01790         overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a8663e3cd51ab8b3ad44b1832338a7849">hotelType</a> = <a class="code" href="_c_t_config_8h.html#a8086ef19d50da1bab8c3583337e34cb2a59edfa2fbe3f72e741e096aeaaf341b3">eHotelTypeOverseas</a>;
<a name="l01791"></a>01791     }
<a name="l01792"></a>01792     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a3c480968104055cbc299b16dccf74f54">latitude</a> = cModel.<a class="code" href="interface_city_model.html#ac7cceec55d86016b82f2ef91adec190e">latitude</a>;
<a name="l01793"></a>01793     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a619af17fc0af1214c621909d892f736b">longitude</a> = cModel.<a class="code" href="interface_city_model.html#a8621129d59068ae4d728e55ffbda655b">longitude</a>;
<a name="l01794"></a>01794     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a5c0bb59122f9edbf67f3a5c8bf6b28a6">cityModel</a> = cModel;
<a name="l01795"></a>01795     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#ac698b42238212ef496e547cd11138a6b">checkOutDate</a> = outDate;
<a name="l01796"></a>01796     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#ab0c7d738479fa01ca83c2bc06605d895">checkInDate</a> = inDate;
<a name="l01797"></a>01797     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#ae23505284d91d7852f2d2186c0cbba33">filterModel</a> = filterModel;
<a name="l01798"></a>01798     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a3aeff764f9406efee3f6c4f12b487c0d">chooseNumber</a> = 0;
<a name="l01799"></a>01799     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#aa777c50681b1c436d11a6af94b7d76b0">quantity</a> = 1;
<a name="l01800"></a>01800     
<a name="l01801"></a>01801     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#aa54f83847093eeaf8c1f763539bd24b8">gotoHotelListbyType</a> = <a class="code" href="_c_t_config_8h.html#a862ba7090fecd14ae58835526d0b053dac975ca2a847c466e4fc651b562bcf987">eCTGoToHotelListVCbyType_City</a>;
<a name="l01802"></a>01802     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a807ef2eceb874babd43d9c4af4272e88">gotoHotelListbyType</a> = <a class="code" href="_c_t_config_8h.html#a862ba7090fecd14ae58835526d0b053dac975ca2a847c466e4fc651b562bcf987">eCTGoToHotelListVCbyType_City</a>;
<a name="l01803"></a>01803     inlandCacheBean.<a class="code" href="interface_c_t_inland_hotel_list_cache_bean.html#ad7f5e0b64552535b9a5634b4e4a26b14">distanceInfo</a> = cModel.<a class="code" href="interface_city_model.html#a18cd6570dc06d95e8842be95562eb5b0">name</a>;
<a name="l01804"></a>01804     overseasCacheBean.<a class="code" href="interface_c_t_overseas_hotel_list_cache_bean.html#a49e54fce2efd8400c5479cb884c7c1ee">distanceInfo</a> = cModel.<a class="code" href="interface_city_model.html#a18cd6570dc06d95e8842be95562eb5b0">name</a>;
<a name="l01805"></a>01805     
<a name="l01806"></a>01806 
<a name="l01807"></a>01807     <span class="comment">//编写服务成功的处理</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel mutexServiceTokenArray:nil isShowLoading:YES isShowCancel:NO isGoBackAfterCancel:NO isShowErrorInfo:NO cacheBean:nil saveParam:@&quot;&quot; nextPageClass:[<a class="code" href="interface_c_t_hotel_new_list_view_controller.html">CTHotelNewListViewController</a> class] animateType:eAnimateTypeControllerPush successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01808"></a>01808         
<a name="l01809"></a>01809         CTHotelNewListViewController *nextPage = (CTHotelNewListViewController *)goToPageObject;
<a name="l01810"></a>01810 
<a name="l01811"></a>01811         if (inlandCacheBean.hotelType == eHotelTypeInland)
<a name="l01812"></a>01812         {
<a name="l01813"></a>01813             [overseasCacheBean <a class="code" href="interface_c_t_view_cache_bean.html#af751af5dea65cfec7d61824eb040c984">clean</a>];
<a name="l01814"></a>01814             [nextPage updateInLandHotelList];
<a name="l01815"></a>01815         }
<a name="l01816"></a>01816         else if (inlandCacheBean.hotelType == eHotelTypeOverseas)
<a name="l01817"></a>01817         {
<a name="l01818"></a>01818             overseasCacheBean.hotelType = eHotelTypeOverseas;
<a name="l01819"></a>01819             [inlandCacheBean <a class="code" href="interface_c_t_view_cache_bean.html#af751af5dea65cfec7d61824eb040c984">clean</a>];
<a name="l01820"></a>01820             [nextPage updateOutLandHotelList];
<a name="l01821"></a>01821         }
<a name="l01822"></a>01822         
<a name="l01823"></a>01823     } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject)
<a name="l01824"></a>01824      {
<a name="l01825"></a>01825         CTHotelNewListViewController *nextPage2 = (CTHotelNewListViewController *)goToPageObject;
<a name="l01826"></a>01826          [nextPage2 showErrorlList:errorCode errorInfo:errorInformation];
<a name="l01827"></a>01827     }];
<a name="l01828"></a>01828     
<a name="l01829"></a>01829     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01830"></a>01830     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoHotelList&quot; description:actionMd5];
<a name="l01831"></a>01831 }
<a name="l01832"></a>01832 <span class="preprocessor">#pragma mark 跳转到酒店详情</span>
<a name="l01833"></a>01833 <span class="preprocessor"></span>-(void)goHotelDetail:(<a class="code" href="class_n_s_dictionary.html">NSDictionary</a>*)dic
<a name="l01834"></a>01834 {
<a name="l01835"></a>01835     <a class="code" href="class_n_s_string.html">NSString</a>* cityId = [dic objectForKey:@&quot;cityId&quot;]; <span class="comment">//城市id</span>
<a name="l01836"></a>01836     <a class="code" href="class_n_s_string.html">NSString</a>* inDate = [dic objectForKey:@&quot;inDate&quot;];<span class="comment">//入住日期</span>
<a name="l01837"></a>01837     <a class="code" href="class_n_s_string.html">NSString</a>* outDate = [dic objectForKey:@&quot;outDate&quot;];<span class="comment">//离店日期</span>
<a name="l01838"></a>01838     <span class="keywordtype">int</span> hotelId = [[dic objectForKey:@&quot;hotelId&quot;] integerValue];<span class="comment">//酒店ID</span>
<a name="l01839"></a>01839     <a class="code" href="interface_city_model.html">CityModel</a>*  cityModel = [[<a class="code" href="interface_city_model.html">CityModel</a> alloc] init];
<a name="l01840"></a>01840     cityModel.<a class="code" href="interface_city_model.html#a6f22ae475b32b7881c9c2f262a396c29">cityId</a> = cityId;
<a name="l01841"></a>01841     cityModel.<a class="code" href="interface_city_model.html#af57fd876f641bd9a62606645217c1c4e">districtId</a> = -1;
<a name="l01842"></a>01842     
<a name="l01843"></a>01843 <span class="comment">//    CTSenderResultModel* resultModel = [[CTHomeSender getInstance] sendGetHotelDetail:hotelId CityId:cityId districtID:-1  CheckInDate:inDate CheckOutDate:outDate];</span>
<a name="l01844"></a>01844     <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a>* resultModel = [[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#a37cd144898c941bde4e2ecb223c5a319">sendGetHotelDetail</a>:hotelId <a class="code" href="interface_c_t_home_sender.html#a37cd144898c941bde4e2ecb223c5a319">cityModel</a>:cityModel <a class="code" href="interface_c_t_home_sender.html#a37cd144898c941bde4e2ecb223c5a319">CheckInDate</a>:inDate <a class="code" href="interface_c_t_home_sender.html#a37cd144898c941bde4e2ecb223c5a319">CheckOutDate</a>:outDate];
<a name="l01845"></a>01845     
<a name="l01846"></a>01846     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01847"></a>01847     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01848"></a>01848 
<a name="l01849"></a>01849     <a class="code" href="interface_c_t_hotel_detail_cache_bean.html">CTHotelDetailCacheBean</a>* hotelDetialBean = (<a class="code" href="interface_c_t_hotel_detail_cache_bean.html">CTHotelDetailCacheBean</a>*)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a5aec1756b1af9e0cb9d2660fc0bc33c9">FLAG_Hotel_CTHotelDetailCacheBean</a>];
<a name="l01850"></a>01850     hotelDetialBean.<a class="code" href="interface_c_t_hotel_detail_cache_bean.html#ac5b16aa7a106943602de8e7ee928b067">checkInDate</a> = inDate;
<a name="l01851"></a>01851     hotelDetialBean.<a class="code" href="interface_c_t_hotel_detail_cache_bean.html#adca14629175d242f008841edc9b90522">checkOutDate</a> = outDate;
<a name="l01852"></a>01852     hotelDetialBean.<a class="code" href="interface_c_t_hotel_detail_cache_bean.html#a0ce7b06567d500926fffeb9f626ac169">cityModel</a> = cityModel;
<a name="l01853"></a>01853     hotelDetialBean.<a class="code" href="interface_c_t_hotel_detail_cache_bean.html#a612accbe2829bf019c83d7182b5e8bed">hotelBasicInfoModel</a>.<a class="code" href="interface_hotel_basic_info_entity_model.html#a57896a7970d5bc266111ed5b44c0fdb7">hotelID</a> = hotelId;
<a name="l01854"></a>01854 <span class="comment">//    hotelDetialBean.hotelModel = [[HotelModel alloc] init];</span>
<a name="l01855"></a>01855     
<a name="l01856"></a>01856     <span class="comment">//调用框架接口，转交返回模型，让框架处理接下来的事情</span>
<a name="l01857"></a>01857     <span class="comment">//编写服务成功的处理</span><span class="comment">//编写服务失败的处理</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel cacheBean:nil saveParam:@&quot;&quot; nextPageClass:[<a class="code" href="interface_c_t_new_hotel_detail_view_controller.html">CTNewHotelDetailViewController</a> class] successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01858"></a>01858         
<a name="l01859"></a>01859         CTNewHotelDetailViewController *nextPage = (CTNewHotelDetailViewController *)goToPageObject;
<a name="l01860"></a>01860         [nextPage updateHotelList];
<a name="l01861"></a>01861     } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l01862"></a>01862         
<a name="l01863"></a>01863     }];
<a name="l01864"></a>01864     
<a name="l01865"></a>01865     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01866"></a>01866     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoHotelDetial&quot; description:actionMd5];
<a name="l01867"></a>01867     
<a name="l01868"></a>01868 }
<a name="l01869"></a>01869 
<a name="l01870"></a>01870 <span class="preprocessor">#pragma mark 跳转到周边搜地图</span>
<a name="l01871"></a>01871 <span class="preprocessor"></span>-(void)goNearbySearch
<a name="l01872"></a>01872 {
<a name="l01873"></a>01873 <span class="comment">//    [UIAccelerometer sharedAccelerometer].delegate = nil;</span>
<a name="l01874"></a>01874 <span class="comment">//    AppDelegate *delegate   = (AppDelegate *)[[UIApplication sharedApplication] delegate];</span>
<a name="l01875"></a>01875 <span class="comment">//    CTHomePageViewController *homeController = delegate.rootViewController;</span>
<a name="l01876"></a>01876 <span class="comment">//    CTAroundSearchViewController *aroundMainVC = [[CTAroundSearchViewController alloc]init];</span>
<a name="l01877"></a>01877 <span class="comment">//    [homeController.ctripNavigationController pushCtripViewController:aroundMainVC animated:YES];</span>
<a name="l01878"></a>01878 <span class="comment">//    [aroundMainVC release];</span>
<a name="l01879"></a>01879 <span class="comment">//    NSString* actionMd5 = [self.requestStr MD5];</span>
<a name="l01880"></a>01880 <span class="comment">//    [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoNearbySearch&quot; description:actionMd5];</span>
<a name="l01881"></a>01881 }
<a name="l01882"></a>01882 
<a name="l01883"></a>01883 <span class="preprocessor">#pragma mark 跳转到语音查询</span>
<a name="l01884"></a>01884 <span class="preprocessor"></span>-(void)goSpeak
<a name="l01885"></a>01885 {
<a name="l01886"></a>01886     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01887"></a>01887     
<a name="l01888"></a>01888     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01889"></a>01889     <a class="code" href="interface_c_t_home_page_view_controller.html">CTHomePageViewController</a> *homeController = delegate.<a class="code" href="interface_app_delegate.html#af14e3f0b6302ca6d4735610c3f696782">rootViewController</a>;
<a name="l01890"></a>01890     <a class="code" href="interface_c_t_locution_view_controller.html">CTLocutionViewController</a> *locutionViewController = [[<a class="code" href="interface_c_t_locution_view_controller.html">CTLocutionViewController</a> alloc]init];
<a name="l01891"></a>01891     [homeController.ctripNavigationController pushCtripViewController:locutionViewController animated:YES];
<a name="l01892"></a>01892     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01893"></a>01893     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoSpeak&quot; description:actionMd5];
<a name="l01894"></a>01894 }
<a name="l01895"></a>01895 
<a name="l01896"></a>01896 <span class="preprocessor">#pragma mark 跳转到国际机票查询</span>
<a name="l01897"></a>01897 <span class="preprocessor"></span>-(void)goInternationFlightSearch
<a name="l01898"></a>01898 {
<a name="l01899"></a>01899     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01900"></a>01900     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01901"></a>01901     <a class="code" href="interface_c_t_home_page_view_controller.html">CTHomePageViewController</a> *homeController = delegate.<a class="code" href="interface_app_delegate.html#af14e3f0b6302ca6d4735610c3f696782">rootViewController</a>;
<a name="l01902"></a>01902     <a class="code" href="interface_c_t_flight_search_view_controller.html">CTFlightSearchViewController</a> *flightMainVC = [[<a class="code" href="interface_c_t_flight_search_view_controller.html">CTFlightSearchViewController</a> alloc]init];
<a name="l01903"></a>01903     [homeController.ctripNavigationController pushCtripViewController:flightMainVC animated:YES];
<a name="l01904"></a>01904     flightMainVC.<a class="code" href="interface_c_t_flight_search_view_controller.html#a9706d86447ba381d04e025768cfa240a">segmentInlandOrInternational</a>.<a class="code" href="interface_c_t_segment_control.html#a1169aa2f7d10eabdadd71737c7b8351e">selectedSegmentIndex</a> = 0;
<a name="l01905"></a>01905     flightMainVC.<a class="code" href="interface_c_t_flight_search_view_controller.html#a676118c1d2df364e53841eb5a7049d13">controllerInlandFlightSearch</a>.view.hidden = NO;
<a name="l01906"></a>01906 <span class="comment">//    [flightMainVC doSegmentFlightBoardDown];</span>
<a name="l01907"></a>01907     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01908"></a>01908     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoInternationalFlightSearch&quot; description:actionMd5];
<a name="l01909"></a>01909 }
<a name="l01910"></a>01910 
<a name="l01911"></a>01911 <span class="preprocessor">#pragma mark 跳转到国际机票列表</span>
<a name="l01912"></a>01912 <span class="preprocessor"></span>-(void)goInternationFlightList:(<a class="code" href="class_n_s_dictionary.html">NSDictionary</a>*)dic
<a name="l01913"></a>01913 {
<a name="l01914"></a>01914     <a class="code" href="class_n_s_string.html">NSString</a>*  departure = [dic objectForKey:@&quot;departureCityId&quot;];<span class="comment">//出发cityId</span>
<a name="l01915"></a>01915     <a class="code" href="class_n_s_string.html">NSString</a>*  reach = [dic objectForKey:@&quot;reachCityId&quot;];<span class="comment">//到达城市id</span>
<a name="l01916"></a>01916     <a class="code" href="class_n_s_string.html">NSString</a>*  outDate = [dic objectForKey:@&quot;outDate&quot;];<span class="comment">//出发日前</span>
<a name="l01917"></a>01917     <a class="code" href="class_n_s_string.html">NSString</a>*  backDate = [dic objectForKey:@&quot;backDate&quot;];<span class="comment">//返程日期</span>
<a name="l01918"></a>01918     backDate = [backDate stringByReplacingOccurrencesOfString:@&quot; &quot; withString:@&quot;&quot;];
<a name="l01919"></a>01919     
<a name="l01920"></a>01920     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01921"></a>01921     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01922"></a>01922     
<a name="l01923"></a>01923     <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557">__ENUM_BUSINESS_TRIPTYPE</a> type = <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557af5ab23abbe9e30135ccf0fb35caeade3">BUSINESS_TRIPTYPE_OW</a>;
<a name="l01924"></a>01924     <span class="keywordflow">if</span> (backDate.length&gt;2) {
<a name="l01925"></a>01925         type = <a class="code" href="_c_t_business_enum_8h.html#afc1e187f744e287d5e68dd29617bd557afb17cc4e26c60b49bf11ff12cc839186">BUSINESS_TRIPTYPE_RT</a>;
<a name="l01926"></a>01926         <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01927"></a>01927         [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoInternationalFlightListReturn&quot; description:actionMd5];
<a name="l01928"></a>01928     }<span class="keywordflow">else</span>{
<a name="l01929"></a>01929         <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01930"></a>01930         [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoInternationalFlightList&quot; description:actionMd5];
<a name="l01931"></a>01931     }
<a name="l01932"></a>01932     
<a name="l01933"></a>01933 <span class="comment">//    NSString* cityName = [SqliteUtil  getGlobalCityNameByID:departure] ;</span>
<a name="l01934"></a>01934     <a class="code" href="interface_city_model.html">CityModel</a>* departModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#a9ca08a453b66d6d99b6a23270e5a3d74">isFlightCityOrGlobalCityByCityID</a>:departure];<span class="comment">//[SqliteUtil getGlobalCityByName:cityName];</span>
<a name="l01935"></a>01935     
<a name="l01936"></a>01936 <span class="comment">//    NSString* reachCityName =  [SqliteUtil  getGlobalCityNameByID:reach];</span>
<a name="l01937"></a>01937     <a class="code" href="interface_city_model.html">CityModel</a>*  reachModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#a9ca08a453b66d6d99b6a23270e5a3d74">isFlightCityOrGlobalCityByCityID</a>:reach];<span class="comment">//[SqliteUtil getGlobalCityByName:reachCityName];</span>
<a name="l01938"></a>01938     
<a name="l01939"></a>01939     [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#a921218a5b5fdd42150f2d8f87c552bb9">updateUserInfo</a>:__dataSource.userID_ <a class="code" href="interface_sqlite_util.html#a921218a5b5fdd42150f2d8f87c552bb9">cachebean</a>:@&quot;CTFlightInquireCacheBean&quot; <a class="code" href="interface_sqlite_util.html#a921218a5b5fdd42150f2d8f87c552bb9">itemKey</a>:@&quot;modelToCityInternational&quot; <a class="code" href="interface_sqlite_util.html#a921218a5b5fdd42150f2d8f87c552bb9">itemValue</a>:departModel.name];
<a name="l01940"></a>01940      <span class="comment">//cityName];</span>
<a name="l01941"></a>01941     
<a name="l01942"></a>01942     <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a>* resultModel = [[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#a4f485b7f52f39cace5e2265eb0b13c78">sendIntlFlightSearchGoTripByDepartCityCode</a>:departModel.code <a class="code" href="interface_c_t_home_sender.html#a4f485b7f52f39cace5e2265eb0b13c78">ArriveCityCode</a>:reachModel.code <a class="code" href="interface_c_t_home_sender.html#a4f485b7f52f39cace5e2265eb0b13c78">DepartDate</a>:outDate <a class="code" href="interface_c_t_home_sender.html#a4f485b7f52f39cace5e2265eb0b13c78">ReturnDate</a>:backDate <a class="code" href="interface_c_t_home_sender.html#a4f485b7f52f39cace5e2265eb0b13c78">TripType</a>:type <a class="code" href="interface_c_t_home_sender.html#a4f485b7f52f39cace5e2265eb0b13c78">SortType</a>:VIEWCACHE_SORTTYPE_INTFLIGHT_PRICE_UP];
<a name="l01943"></a>01943     <a class="code" href="interface_c_t_int_flight_list_cache_bean.html">CTIntFlightListCacheBean</a> *intFlightListCacheBean =  (<a class="code" href="interface_c_t_int_flight_list_cache_bean.html">CTIntFlightListCacheBean</a> *)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a8a9342c08c2094932f99a9d390d565b0">FLAG_Flight_CTIntFlightListCacheBean</a>];
<a name="l01944"></a>01944     intFlightListCacheBean.<a class="code" href="interface_c_t_int_flight_list_cache_bean.html#a42a841a3d463adf851e72aeeb65166ef">tripType</a> = type;
<a name="l01945"></a>01945     intFlightListCacheBean.<a class="code" href="interface_c_t_int_flight_list_cache_bean.html#ac1bbd6b388ea78739cac28756a917b24">modelFromCity</a> = departModel;
<a name="l01946"></a>01946     intFlightListCacheBean.<a class="code" href="interface_c_t_int_flight_list_cache_bean.html#ab26c8036675fea6f0586739008b33f3e">modelToCity</a> = reachModel;
<a name="l01947"></a>01947     intFlightListCacheBean.<a class="code" href="interface_c_t_int_flight_list_cache_bean.html#a522f17b837d2b2486c07c914c4a2a7fe">strBeginDate</a> = outDate;
<a name="l01948"></a>01948     intFlightListCacheBean.<a class="code" href="interface_c_t_int_flight_list_cache_bean.html#aff637414129ef86c45e88c51de4b42ae">strReturnDate</a> = backDate;
<a name="l01949"></a>01949         intFlightListCacheBean.<a class="code" href="interface_c_t_int_flight_list_cache_bean.html#a6afe665ca2d53025ac1fd81a2a7a0cdc">passengerType</a> = <a class="code" href="_c_t_config_8h.html#adbab2e8c4c477419cce1e47abe9356d1aa0dfa49e5cac4fb00e7f47e4130691de">eFlightTicketTypeAdult</a>;
<a name="l01950"></a>01950     
<a name="l01951"></a>01951     [<span class="keyword">self</span> goToNextPageWithModel:resultModel mutexServiceTokenArray:nil isShowLoading:YES isShowCancel:NO isGoBackAfterCancel:NO isShowErrorInfo:YES  cacheBean:nil saveParam:@&quot;&quot; nextPageClass:[<a class="code" href="interface_c_t_international_flights_go_list_view_controller.html">CTInternationalFlightsGoListViewController</a> class] animateType:eAnimateTypeControllerPush successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l01952"></a>01952         TLog(@&quot;CTFlightInquireSender gotoFlightInernationalList success&quot;);
<a name="l01953"></a>01953         
<a name="l01954"></a>01954         CTInternationalFlightsGoListViewController *interListController = (CTInternationalFlightsGoListViewController *)goToPageObject;
<a name="l01955"></a>01955         [interListController setViewByCache:0];
<a name="l01956"></a>01956         
<a name="l01957"></a>01957         interListController.mutexServicetoken = nil;
<a name="l01958"></a>01958         
<a name="l01959"></a>01959     } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l01960"></a>01960         TLog(@&quot;CTFlightInquireSender gotoFlightInernationalList failed&quot;);
<a name="l01961"></a>01961         CTInternationalFlightsGoListViewController *intListController = (CTInternationalFlightsGoListViewController *)goToPageObject;
<a name="l01962"></a>01962         intListController.mutexServicetoken = nil;
<a name="l01963"></a>01963         if (errorCode==ERROR_NETWORK_NOTAVAILABLE) {
<a name="l01964"></a>01964             UIAlertView *alertView = [<a class="code" href="interface_c_t_alert_view.html">CTAlertView</a> <a class="code" href="interface_c_t_alert_view.html#a25bdb93cf2d903ea347437e154c34916">showAlertForNetworkNotAvailableWithDelegate</a>:self];
<a name="l01965"></a>01965             alertView.tag = 8888;
<a name="l01966"></a>01966             return ;
<a name="l01967"></a>01967             
<a name="l01968"></a>01968         }
<a name="l01969"></a>01969         intListController.myerrorCode = errorCode;
<a name="l01970"></a>01970         intListController.errorMessage = errorInformation;
<a name="l01971"></a>01971         intListController.isNetError = YES;
<a name="l01972"></a>01972         [intListController.gTableView reloadDataWithIsAllLoaded:YES];
<a name="l01973"></a>01973         
<a name="l01974"></a>01974         
<a name="l01975"></a>01975     }];
<a name="l01976"></a>01976 }
<a name="l01977"></a>01977 
<a name="l01978"></a>01978 <span class="preprocessor">#pragma mark 跳转到高铁查询</span>
<a name="l01979"></a>01979 <span class="preprocessor"></span>-(void)goTrainSearch
<a name="l01980"></a>01980 {
<a name="l01981"></a>01981     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l01982"></a>01982     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l01983"></a>01983     <a class="code" href="interface_c_t_home_page_view_controller.html">CTHomePageViewController</a> *homeController = delegate.<a class="code" href="interface_app_delegate.html#af14e3f0b6302ca6d4735610c3f696782">rootViewController</a>;
<a name="l01984"></a>01984     <a class="code" href="interface_c_t_train_inquire_view_controller.html">CTTrainInquireViewController</a> *TrainMainVC = [[<a class="code" href="interface_c_t_train_inquire_view_controller.html">CTTrainInquireViewController</a> alloc]init];
<a name="l01985"></a>01985     [homeController.ctripNavigationController pushCtripViewController:TrainMainVC animated:YES];
<a name="l01986"></a>01986     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l01987"></a>01987     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoTrainSearch&quot; description:actionMd5];
<a name="l01988"></a>01988 }
<a name="l01989"></a>01989 
<a name="l01990"></a>01990 <span class="preprocessor">#pragma mark 跳转到高铁列表</span>
<a name="l01991"></a>01991 <span class="preprocessor"></span>-(void)goTrainList:(<a class="code" href="class_n_s_dictionary.html">NSDictionary</a>*) dic
<a name="l01992"></a>01992 {
<a name="l01993"></a>01993     <a class="code" href="class_n_s_string.html">NSString</a>*  departure = [dic objectForKey:@&quot;departureStationId&quot;]; <span class="comment">//出发火车站ID</span>
<a name="l01994"></a>01994     <a class="code" href="class_n_s_string.html">NSString</a>*  reach = [dic objectForKey:@&quot;reachStationId&quot;];<span class="comment">//到达火车站ID</span>
<a name="l01995"></a>01995     <a class="code" href="class_n_s_string.html">NSString</a>*  outDate = [dic objectForKey:@&quot;outDate&quot;]; <span class="comment">//出发日期</span>
<a name="l01996"></a>01996     <a class="code" href="interface_city_model.html">CityModel</a>* departureModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#a8706dcbe492e9f59d20c8da3903619ea">getRailwayCityModelByStationID</a>:departure];
<a name="l01997"></a>01997     <a class="code" href="interface_city_model.html">CityModel</a>* reachModel = [<a class="code" href="interface_sqlite_util.html">SqliteUtil</a> <a class="code" href="interface_sqlite_util.html#a8706dcbe492e9f59d20c8da3903619ea">getRailwayCityModelByStationID</a>:reach];
<a name="l01998"></a>01998     
<a name="l01999"></a>01999     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l02000"></a>02000     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l02001"></a>02001     
<a name="l02002"></a>02002     <span class="comment">//                inlandListController.errorMessage = errorInformation;</span><span class="comment">//@&quot;&quot;;//</span>[<span class="keyword">self</span> goToNextPageWithCacheBean:self.ctripCacheBean
<a name="l02003"></a>02003                           saveParam:@&quot;&quot;
<a name="l02004"></a>02004                 isGoBackAfterCancel:NO
<a name="l02005"></a>02005                       nextPageClass:[<a class="code" href="interface_c_t_train_list_view_controller.html">CTTrainListViewController</a> class]
<a name="l02006"></a>02006            nextCacheBeanCreateBlock:^CTViewCacheBean *{
<a name="l02007"></a>02007                CTTrainListCacheBean *nextCacheBean = [[<a class="code" href="interface_c_t_train_list_cache_bean.html">CTTrainListCacheBean</a> alloc] init];
<a name="l02008"></a>02008                nextCacheBean.strBeginDate = outDate;
<a name="l02009"></a>02009                nextCacheBean.modelFromCity = departureModel;
<a name="l02010"></a>02010                nextCacheBean.modelToCity = reachModel;
<a name="l02011"></a>02011                return nextCacheBean;
<a name="l02012"></a>02012            } sendServiceBlock:^CTSenderResultModel *(CTViewCacheBean *nextCacheBean) {
<a name="l02013"></a>02013                CTTrainSeniorFilterModel* filterModel = [[<a class="code" href="interface_c_t_train_senior_filter_model.html">CTTrainSeniorFilterModel</a> alloc] init];
<a name="l02014"></a>02014                
<a name="l02015"></a>02015                CTSenderResultModel* resultModel = [[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#a5f57fd7b90ed51b5068422e37e176686">sendSearchTrainList</a>:(CTTrainListCacheBean*)nextCacheBean <a class="code" href="interface_c_t_home_sender.html#a5f57fd7b90ed51b5068422e37e176686">DepartCity</a>:departureModel <a class="code" href="interface_c_t_home_sender.html#a5f57fd7b90ed51b5068422e37e176686">ArriveCity</a>:reachModel <a class="code" href="interface_c_t_home_sender.html#a5f57fd7b90ed51b5068422e37e176686">DepartDate</a>:outDate <a class="code" href="interface_c_t_home_sender.html#a5f57fd7b90ed51b5068422e37e176686">filterModel</a>:filterModel];
<a name="l02016"></a>02016                return resultModel;
<a name="l02017"></a>02017            } successBlock:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l02018"></a>02018                CTTrainListViewController *nextPage = (CTTrainListViewController *)goToPageObject;
<a name="l02019"></a>02019                [nextPage businessSuccess:YES];
<a name="l02020"></a>02020                [nextPage showAlertView];
<a name="l02021"></a>02021            } failedBlock:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l02022"></a>02022                CTTrainListViewController *nextPage2 = (CTTrainListViewController *)goToPageObject;
<a name="l02023"></a>02023                nextPage2.myErrorCode = errorCode;
<a name="l02024"></a>02024                if (errorCode ==  ERROR_FROM_SERVER_COMMON) {
<a name="l02025"></a>02025                    
<a name="l02026"></a>02026                    [<span class="keyword">self</span> showErrorInfoWithMessage:errorInformation];
<a name="l02027"></a>02027                    nextPage2.errorMessage = @&quot;出错啦，请您稍后重试。&quot;;
<a name="l02028"></a>02028                }
<a name="l02029"></a>02029                else {
<a name="l02030"></a>02030                    nextPage2.errorMessage = errorInformation;
<a name="l02031"></a>02031                }
<a name="l02032"></a>02032                
<a name="l02033"></a>02033                [nextPage2 businessSuccess:NO];
<a name="l02034"></a>02034            }];
<a name="l02035"></a>02035 
<a name="l02036"></a>02036     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l02037"></a>02037     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoTrainList&quot; description:actionMd5];
<a name="l02038"></a>02038 }
<a name="l02039"></a>02039 
<a name="l02040"></a>02040 <span class="preprocessor">#pragma mark 跳转到航班动态详情</span>
<a name="l02041"></a>02041 <span class="preprocessor"></span>-(void)goFlightMessageDetial:(<a class="code" href="class_n_s_dictionary.html">NSDictionary</a>*)dic
<a name="l02042"></a>02042 {
<a name="l02043"></a>02043     <span class="comment">//    int  type = [[dic objectForKey:@&quot;type&quot;] integerValue]; //类型：1:航班号和日期 2:出发机场，到达机场和日期</span>
<a name="l02044"></a>02044     <a class="code" href="class_n_s_string.html">NSString</a>*  outDate = [dic objectForKey:@&quot;date&quot;]; <span class="comment">//出发日期</span>
<a name="l02045"></a>02045     <a class="code" href="class_n_s_string.html">NSString</a>*  flightId = nil;
<a name="l02046"></a>02046     <a class="code" href="class_n_s_string.html">NSString</a>*  departure = nil;
<a name="l02047"></a>02047     <a class="code" href="class_n_s_string.html">NSString</a>*  reach = nil;
<a name="l02048"></a>02048     <span class="comment">//    if (type == 1) {</span>
<a name="l02049"></a>02049     flightId = [dic objectForKey:@&quot;flightId&quot;]; <span class="comment">//航班号</span>
<a name="l02050"></a>02050     <span class="comment">//    }else{</span>
<a name="l02051"></a>02051     departure = [dic objectForKey:@&quot;departureAirPort&quot;];<span class="comment">//出发机场</span>
<a name="l02052"></a>02052     reach = [dic objectForKey:@&quot;reachAirPort&quot;];<span class="comment">//到达机场</span>
<a name="l02053"></a>02053     <span class="comment">//    }</span>
<a name="l02054"></a>02054     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l02055"></a>02055     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l02056"></a>02056     
<a name="l02057"></a>02057     <a class="code" href="interface_c_t_sender_result_model.html">CTSenderResultModel</a>* resultModel = [[<a class="code" href="interface_c_t_home_sender.html">CTHomeSender</a> <a class="code" href="interface_c_t_home_sender.html#a96f58f7dc003cfe8155b089a6a3d07b2">getInstance</a>] <a class="code" href="interface_c_t_home_sender.html#a518f1bd548cc8ec96dd97d7b6d57ecde">sendFlightVarDetailSearch</a>:flightId <a class="code" href="interface_c_t_home_sender.html#a518f1bd548cc8ec96dd97d7b6d57ecde">DepartAirportCode</a>:departure <a class="code" href="interface_c_t_home_sender.html#a518f1bd548cc8ec96dd97d7b6d57ecde">ArriveAirportCode</a>:reach <a class="code" href="interface_c_t_home_sender.html#a518f1bd548cc8ec96dd97d7b6d57ecde">searchType</a>:1];
<a name="l02058"></a>02058     <a class="code" href="interface_c_t_flight_on_focus_model.html">CTFlightOnFocusModel</a>* model = [[<a class="code" href="interface_c_t_flight_on_focus_model.html">CTFlightOnFocusModel</a> alloc] init];
<a name="l02059"></a>02059     model.<a class="code" href="interface_flight_full_var_item_model.html#aa78820f5e5fb64f9de7988e69d9dda3b">flightNo</a> = flightId;
<a name="l02060"></a>02060     model.<a class="code" href="interface_flight_full_var_item_model.html#a7bab334056c8515831a2648586d8d7b6">departAirportCode</a> = departure;
<a name="l02061"></a>02061     model.<a class="code" href="interface_flight_full_var_item_model.html#a5b6dd78be6daddb68b55b35409cf4de4">arriveAirportCode</a> = reach;
<a name="l02062"></a>02062     model.<a class="code" href="interface_c_t_flight_on_focus_model.html#a2db662ccaff28838353b47504bdb673e">onFocusDate</a> = outDate;
<a name="l02063"></a>02063     
<a name="l02064"></a>02064     <a class="code" href="interface_c_t_flight_board_cache_bean.html">CTFlightBoardCacheBean</a>* cacheBean = (<a class="code" href="interface_c_t_flight_board_cache_bean.html">CTFlightBoardCacheBean</a>*)[[<a class="code" href="interface_c_t_view_cache_manage.html">CTViewCacheManage</a> getInstance] getViewCache:<a class="code" href="_c_t_view_cache_manage_8h.html#a0b1e63e8a41d24be20d516a1c2d0b2e4a2d5fa7909b6945bc959eca7e096b69f0">FLAG_FlightBoard_CTFlightBoardCacheBean</a>];
<a name="l02065"></a>02065     cacheBean.<a class="code" href="interface_c_t_flight_board_cache_bean.html#a75176a9591a03e73439a087fe0d77927">onFocusModelOfDetail</a> = model ;
<a name="l02066"></a>02066     
<a name="l02067"></a>02067     <span class="comment">//编写服务成功的处理</span><span class="comment">//编写服务失败的处理</span><span class="comment">//                                CTFlightBoardDetailViewController *nextPage2 = (CTFlightBoardDetailViewController *)goToPageObject;</span>[<span class="keyword">self</span> goToNextPageWithModel:resultModel
<a name="l02068"></a>02068                                 cacheBean:nil
<a name="l02069"></a>02069                                 saveParam:@&quot;&quot;
<a name="l02070"></a>02070                             nextPageClass:[<a class="code" href="interface_c_t_flight_board_detail_view_controller.html">CTFlightBoardDetailViewController</a> class]
<a name="l02071"></a>02071                       isGoBackAfterCancel:NO
<a name="l02072"></a>02072                             successBlocks:^(NSString *businessCode, NSUInteger subServiceCount, id goToPageObject) {
<a name="l02073"></a>02073                                 
<a name="l02074"></a>02074                                 CTFlightBoardDetailViewController *nextPage = (CTFlightBoardDetailViewController *)goToPageObject;
<a name="l02075"></a>02075                                 [nextPage updateDetail];
<a name="l02076"></a>02076                                 
<a name="l02077"></a>02077                             } failedBlocks:^(NSString *businessCode, __ENUM_SERVICE_ERRORCODE errorCode, NSString *errorInformation, id goToPageObject) {
<a name="l02078"></a>02078                                 
<a name="l02079"></a>02079                                 
<a name="l02080"></a>02080                                 
<a name="l02081"></a>02081                             }
<a name="l02082"></a>02082      ];
<a name="l02083"></a>02083     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l02084"></a>02084     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoFlightMessageDetial&quot; description:actionMd5];
<a name="l02085"></a>02085 }
<a name="l02086"></a>02086 
<a name="l02087"></a>02087 <span class="preprocessor">#pragma mark 跳转到常见wenti</span>
<a name="l02088"></a>02088 <span class="preprocessor"></span>-(void)goHelp
<a name="l02089"></a>02089 {
<a name="l02090"></a>02090     [UIAccelerometer sharedAccelerometer].delegate = nil;
<a name="l02091"></a>02091     <a class="code" href="interface_app_delegate.html">AppDelegate</a> *delegate   = (<a class="code" href="interface_app_delegate.html">AppDelegate</a> *)[[UIApplication sharedApplication] delegate];
<a name="l02092"></a>02092     <a class="code" href="interface_c_t_home_page_view_controller.html">CTHomePageViewController</a> *homeController = delegate.<a class="code" href="interface_app_delegate.html#af14e3f0b6302ca6d4735610c3f696782">rootViewController</a>;
<a name="l02093"></a>02093     <a class="code" href="interface_c_t_fre_question_view_controller.html">CTFreQuestionViewController</a> *freQuestionViewController = [[<a class="code" href="interface_c_t_fre_question_view_controller.html">CTFreQuestionViewController</a> alloc]init];
<a name="l02094"></a>02094     freQuestionViewController.<a class="code" href="interface_c_t_fre_question_view_controller.html#ae673587774b4223df8dd191b3b03d61e">from</a> = 1;
<a name="l02095"></a>02095     [homeController.ctripNavigationController pushCtripViewController:freQuestionViewController animated:YES];
<a name="l02096"></a>02096     
<a name="l02097"></a>02097     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMoreContentViewController&quot; listener:@&quot;frequentQuestionsCell&quot;];
<a name="l02098"></a>02098     <a class="code" href="class_n_s_string.html">NSString</a>* actionMd5 = [<span class="keyword">self</span>.requestStr MD5];
<a name="l02099"></a>02099     [delegate.userOperationCollector_ collectActionForNormal:@&quot;CTMessageView&quot; listener:@&quot;GoHelp&quot; description:actionMd5];
<a name="l02100"></a>02100 }
<a name="l02101"></a>02101 
<a name="l02102"></a>02102 <span class="keyword">@end</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_c_t_my_ctrip_root_view_controller_8m.html">CTMyCtripRootViewController.m</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Tue Sep 10 2013 10:06:13 for ctrip by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
